##########################################################################
# Decisions
##########################################################################

# Decision to Create a LOCAL Colony Cruise - (No Jump Drive)
decision_civilian_local_colony_cruise = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resort_colony

	resources = {
		category = decisions
		cost = {
			influence = 75
		}
	}

	potential = {
		always = no #Cog Note - I want to keep this disabled while Dev Testing
		owner = { 
			has_edict = civilian_resort_colony_cruise_roam_edict
			is_regular_empire = yes 
			count_owned_nonprimary_starbase = {
				count > 0
				has_starbase_size >= orbital_ring_tier_0	
				has_starbase_module = orbital_ring_system_tourism
				distance = {
					source = PREV.PREV
					same_solar_system = yes
				}
			}
		}
		solar_system = {
			count_fleet_in_system = {
				count = 0
				limit = { is_ship_size = civilian_local_colony_cruise }
			}
		}
	}

	effect = {
		custom_tooltip = decision_civilian_local_colony_cruise_pop_cost
		hidden_effect = {
			weighted_random_owned_pop_group = {
				kill_pop_group = {
					pop_group = this
					amount = 500
				}
			}
		}
		create_fleet = {
			name = "NAME_Civilian_Local_Colony_Cruise"
			effect = {
				set_owner = root.owner
				create_ship = {
					name = random
					design = "NAME_Civilian_Local_Colony_Cruise"
				}
				set_fleet_flag = inteplanetary_flight_fleet
				set_location = root
				set_fleet_stance = passive
				last_created_ship = { set_ship_flag = inteplanetary_flight_fleet }
			}
		}
	}

	ai_weight = {
		weight = 0
	}
}

# Decision to RETURN a LOCAL Colony Cruise - (Deletes ship & returns pops)
decision_civilian_local_colony_cruise_return = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resort_colony

	resources = {
		category = decisions
		cost = {
			influence = 75
		}
	}

	potential = {
		always = no #Cog Note - I want to keep this disabled while Dev Testing
		owner = { is_regular_empire = yes }
		solar_system = {
			count_fleet_in_system = {
				count > 0
				limit = { is_ship_size = civilian_local_colony_cruise }
			}
		}
	}

	effect = {
		custom_tooltip = decision_civilian_local_colony_cruise_pop_return
		hidden_effect = {
			weighted_random_owned_pop_group = {
				while = {
					count = 500
					create_pop_group = {
						species = this
					}
				}
			}
		}
		solar_system = {
			random_fleet_in_system = { 
				limit = { is_ship_size = civilian_local_colony_cruise }
				delete_fleet = this
			}
		}
	}

	ai_weight = {
		weight = 0
	}
}