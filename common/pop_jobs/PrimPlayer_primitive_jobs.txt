###################
# Payback Origin Job
###################
unifier = {
	category = specialist
	swappable_data = {
		default = {
			condition_string = SPECIALIST_JOB_TRIGGER
			building_icon = building_capital
			# clothes_texture_index = 3
			icon = overlord_propagandist
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job
	possible = {
		complex_specialist_job_check_trigger = yes
	}

	resources = {
		category = planet_bureaucrats
		produces = {
			unity = 4
		}
		upkeep = {
			consumer_goods = 1
		}
		upkeep = {
			trigger = {
				is_lithoid_empire = no
			}
			food = 2
		}
		upkeep = {
			trigger = {
				is_lithoid_empire = yes
			}
			minerals = 2
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = no }
		}
		modifier = {
			pop_government_ethic_attraction = 0.15
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_valid_civic = civic_byzantine_bureaucracy }
		}
		modifier = {
			planet_stability_add = 1
		}
	}

	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = { has_valid_civic = civic_efficient_bureaucracy }
		}
		country_edict_fund_add = 2
		mult = value:job_total_output_modifier|JOB|unifier|RESOURCE|unity|
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_add = 300
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	triggered_planet_modifier = {
		potential = {
			planet = {
				exists = owner
				owner = {
					has_tradition = tr_modularity_4
				}
			}
		}
		planet_jobs_worker_produces_mult = 0.02
	}

	weight = {
		weight = @specialist_job_weight
		mult = value:job_weights_modifier|JOB|unifier|RESOURCE|unity|
		mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
		modifier = {
			factor = 0.2
			NOR = { has_citizenship_rights = yes has_trait = trait_mechanical }
		}
		modifier = {
			factor = 0.1
			can_take_servant_job = yes
		}
		# modifier = {	# No Longer Used in Stellaris 4.0
		#	factor = 1.5
		#	# has_job_type = unifier
		#}
		# modifier = {	# No Longer Used in Stellaris 4.0
		#	factor = 2
		#	exists = planet
		#	planet = {
		#		any_owned_pop_group = {
		#			NOT = { has_job_type = unifier }
		#		}
		#	}
		#}
	}

	inline_script = "jobs/automodding_priority_unity"
}
###################
# Primitive Enthusiasts Exclusive Jobs
###################

###################
# Pre-FTL Jobs
###################
hunter_gatherer = {
	category = worker
	is_capped_by_modifier = no
	#swappable_data = {
		#default = {
			# clothes_texture_index = 2
		#}
	#}
	
	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_worker_job

	possible = {
		owner = {
			is_hive_empire = no
			OR = {
				AND = {
					is_primitive = yes
					has_country_flag = stone_age
				}
				has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				# any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
			}
		}
		is_lithoid = no
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_add = 100
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	resources = {
		category = planet_farmers
		produces = {
			food = 1
		}
	}


	weight = {
		weight = 0.01
		# mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
	}
	
	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = worker
				AMOUNT = local_pop_amount
			}
		}
	}
}

hunter_gatherer_lithoid = {
	category = worker
	is_capped_by_modifier = no

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_worker_job

	possible = {
		owner = {
			is_hive_empire = no
			OR = {
				AND = {
					is_primitive = yes
					has_country_flag = stone_age
				}
				has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				# any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
			}
		}
		is_lithoid = yes
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_add = 100
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	resources = {
		category = planet_farmers
		produces = {
			minerals = 1
		}
	}

	weight = {
		weight = 0.01
		# mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = worker
				AMOUNT = local_pop_amount
			}
		}
	}
}

peasant = {	# Cog Note: for player-primitives maybe this doesn't make sense for everyone. This is a starvation prevention job for ai primitives.
	category = civilian
	is_capped_by_modifier = no
	swappable_data = {
		default = {
			building_icon = building_primitive_farm
			# clothes_texture_index = 2
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	#possible_precalc = can_fill_worker_job

	possible = {
		owner = {
			is_hive_empire = no
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				is_primitive = yes
				#AND = {
					any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
					#OR = {
					#	is_authoritarian = yes
					#	has_ethic = ethic_capitalism
					#	has_ethic = ethic_fanatic_capitalism
					#}
				#}
				has_civic = civic_primitive_enthusiasts
			}
		}
		is_lithoid = no
	}

	#resources = {
	#	category = planet_farmers
	#	produces = {
	#		food = 2
	#	}
	#}
	
	resources = {
		category = planet_civilians
		produces = {
			trade = 0.5
			food = 1
		}
		produces = {
			trigger = {
				exists = owner
				has_modifier = resort_colony
			}
			trade = 1
		}
		inline_script = "jobs/ethic_job_resources"

		# Spiritual Seekers
		produces = {
			trigger = {
				exists = owner
				owner = {
					is_spiritual_seeker_empire = yes
				}
			}
			unity = 0.75
			society_research = 0.5
			physics_research = 0.5
			engineering_research = 0.25
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					is_spiritual_seeker_empire = yes
				}
			}
			energy = 0.5
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_tradition = tr_mercantile_trickle_up_economics }
			planet = { 
				NOR = {
					has_modifier = resort_colony 
					has_modifier = resort_colony_branch
				}
			}
		}
		planet_amenities_add = 100
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	# NOT Hedonists & Resort World
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_pleasure_seeker_empire = no }
			planet = { 
				NOR = {
					has_modifier = resort_colony 
					has_modifier = resort_colony_branch
				}
			}
		}
		planet_amenities_add = 50
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}
	# Resort World
	triggered_planet_modifier = {
		potential = {
			exists = owner
			planet = { has_modifier = resort_colony }
		}
		planet_amenities_add = -100
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}
	# Resort World Branch
	triggered_planet_modifier = {
		potential = {
			exists = owner
			planet = { has_modifier = resort_colony_branch }
		}
		planet_amenities_add = -50
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	# Spiritual Seekers
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_spiritual_seeker_empire = yes
			}
		}
		planet_crime_add = -1
    }

	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				is_spiritual_seeker_empire = yes
			}
		}
		country_edict_fund_add = 1.25
	}

	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = { has_modifier = paragon_origin_strengthened_government_iii }
		}
		country_edict_fund_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_policy_flag = computation_core_production
			}
		}
		foundry_jobs_bonus_workforce_mult = 0.005
		artisan_jobs_bonus_workforce_mult = 0.005
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_policy_flag = computation_core_stability
			}
		}
		bureaucrat_jobs_bonus_workforce_mult = 0.005
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_policy_flag = computation_core_research
			}
		}
		physicist_jobs_bonus_workforce_mult = 0.005
		biologist_jobs_bonus_workforce_mult = 0.005
		engineer_jobs_bonus_workforce_mult = 0.005
	}

	inline_script = "jobs/ethic_job_modifiers"

	weight = {
		weight = 0	# Made the weight as 0 because this job is not priority.
	}
}

peasant_lithoid = {
	category = worker
	is_capped_by_modifier = no

	swappable_data = {
		default = {
			building_icon = building_primitive_farm
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_worker_job

	possible = {
		owner = {
			is_hive_empire = no
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				is_primitive = yes
				#AND = {
					any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
					#OR = {
					#	is_authoritarian = yes
					#	has_ethic = ethic_capitalism
					#	has_ethic = ethic_fanatic_capitalism
					#}
				#}
				has_civic = civic_primitive_enthusiasts
			}
		}
		is_lithoid = yes
	}
	
	resources = {
		category = planet_civilians
		produces = {
			trade = 0.5
			minerals = 1
		}
		produces = {
			trigger = {
				exists = owner
				has_modifier = resort_colony
			}
			trade = 1
		}
		inline_script = "jobs/ethic_job_resources"

		# Spiritual Seekers
		produces = {
			trigger = {
				exists = owner
				owner = {
					is_spiritual_seeker_empire = yes
				}
			}
			unity = 0.75
			society_research = 0.5
			physics_research = 0.5
			engineering_research = 0.25
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					is_spiritual_seeker_empire = yes
				}
			}
			energy = 0.5
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_tradition = tr_mercantile_trickle_up_economics }
			planet = { 
				NOR = {
					has_modifier = resort_colony 
					has_modifier = resort_colony_branch
				}
			}
		}
		planet_amenities_add = 100
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	# NOT Hedonists & Resort World
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_pleasure_seeker_empire = no }
			planet = { 
				NOR = {
					has_modifier = resort_colony 
					has_modifier = resort_colony_branch
				}
			}
		}
		planet_amenities_add = 50
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}
	# Resort World
	triggered_planet_modifier = {
		potential = {
			exists = owner
			planet = { has_modifier = resort_colony }
		}
		planet_amenities_add = -100
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}
	# Resort World Branch
	triggered_planet_modifier = {
		potential = {
			exists = owner
			planet = { has_modifier = resort_colony_branch }
		}
		planet_amenities_add = -50
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	# Spiritual Seekers
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_spiritual_seeker_empire = yes
			}
		}
		planet_crime_add = -1
    }

	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = {
				is_spiritual_seeker_empire = yes
			}
		}
		country_edict_fund_add = 1.25
	}

	triggered_country_modifier = {
		potential = {
			exists = owner
			owner = { has_modifier = paragon_origin_strengthened_government_iii }
		}
		country_edict_fund_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_policy_flag = computation_core_production
			}
		}
		foundry_jobs_bonus_workforce_mult = 0.005
		artisan_jobs_bonus_workforce_mult = 0.005
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_policy_flag = computation_core_stability
			}
		}
		bureaucrat_jobs_bonus_workforce_mult = 0.005
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_policy_flag = computation_core_research
			}
		}
		physicist_jobs_bonus_workforce_mult = 0.005
		biologist_jobs_bonus_workforce_mult = 0.005
		engineer_jobs_bonus_workforce_mult = 0.005
	}

	inline_script = "jobs/ethic_job_modifiers"

	weight = {
		weight = 0	# Made the weight as 0 because this job is not priority.
	}

}

primitive_warrior = {
	category = specialist
	is_capped_by_modifier = yes

	swappable_data = {
		default = {
			building_icon = building_primitive_dwellings
			# clothes_texture_index = 2
		}
	}

	tags = { soldier }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_worker_job
	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				is_primitive = yes
				has_civic = civic_primitive_enthusiasts
			}
		}
	}

	# pop_group_modifier = {	# No Longer Used in Stellaris 4.0
	#	pop_defense_armies_add = 3
	#}

	planet_modifier = {
		planet_defense_armies_add = 3
	}

	weight = {
		weight = @soldier_job_weight
		modifier = {
			factor = 6
			is_militarist = yes
		}
		modifier = {
			factor = 0
			is_pacifist = yes
		}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = specialist
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_noble = {
	category = ruler
	is_capped_by_modifier = yes

	swappable_data = {
		default = {
			building_icon = building_primitive_capital
			# clothes_texture_index = 1
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_ruler_job

	possible = {
		owner = {
			is_primitive = yes
			OR = {
				has_country_flag = bronze_age
				has_country_flag = iron_age
				has_country_flag = late_medieval_age
				has_country_flag = renaissance_age
				has_country_flag = steam_age
			}
		}
	}

	resources = {
		category = planet_politicians
		produces = {
			unity = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_add = 300
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	weight = {
		weight = @ruler_job_weight
		mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = ruler
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_researcher = {
	category = specialist
	is_capped_by_modifier = yes

	swappable_data = {
		default = {
			building_icon = building_primitive_labs
			# clothes_texture_index = 2
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job

	possible = {
		owner = {
			is_primitive = yes
			OR = {
				has_country_flag = bronze_age
				has_country_flag = iron_age
				has_country_flag = late_medieval_age
				has_country_flag = renaissance_age
				has_country_flag = steam_age
			}
		}
	}

	resources = {
		category = planet_researchers
		produces = {
			physics_research = 1
			engineering_research = 1
			society_research = 1
		}
	}

	# weight = {
	#	weight = @specialist_job_weight
	#	modifier = {
	#		factor = 6
	#		is_materialist = yes
	#	}
	#	modifier = {
	#		factor = 0
	#		is_spiritualist = yes
	#	}
	#}
	weight = {
		weight = @specialist_job_weight
		mult = value:job_weights_research_modifier|JOB|researcher|
		modifier = {
			factor = 0.2
			NOR = { has_citizenship_rights = yes has_trait = trait_mechanical }
		}
		modifier = {
			factor = 2
			has_living_standard = { type = living_standard_academic_privilege }
		}
		modifier = {
			factor = 0.1
			can_take_servant_job = yes
		}
		# modifier = {
		#	factor = 1.5
		#	has_job_type = researcher	# No Longer Used in Stellaris 4.0
		#}
		modifier = {
			factor = 0.8
			is_enslaved = yes
			has_slavery_type = { type = slavery_indentured }
		}
		modifier = {
			factor = 5
			has_trait = trait_cyborg_creed_of_research
		}
		modifier = {
			factor = 6
			is_materialist = yes
		}
		modifier = {
			factor = 0
			is_spiritualist = yes
		}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = specialist
				AMOUNT = local_pop_amount
			}
		}
	}

}

primitive_priest = {
	category = specialist
	is_capped_by_modifier = yes

	swappable_data = {
		default = {
			building_icon = building_temple
			# clothes_texture_index = 3
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job

	possible = {
		owner = {
			is_primitive = yes
			OR = {
				has_country_flag = bronze_age
				has_country_flag = iron_age
				has_country_flag = late_medieval_age
				has_country_flag = renaissance_age
				has_country_flag = steam_age
			}
		}
	}

	resources = {
		category = planet_jobs
		produces = {
			unity = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_add = 200
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	weight = {
		weight = @specialist_job_weight
		mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
		modifier = {
			factor = 6
			is_spiritualist = yes
		}
		modifier = {
			factor = 0
			is_materialist = yes
		}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = specialist
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_laborer = {
	category = worker
	is_capped_by_modifier = yes

	swappable_data = {
		default = {
			building_icon = building_primitive_factory
			# clothes_texture_index = 2
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_worker_job

	possible = {
		OR = {
			planet = {
				has_building = building_primitive_factory
			}
			owner = {
				OR = {
					# has_origin = origin_primitive_player_pre_industrial_age
					# has_origin = origin_primitive_player_industrial_age
					# has_origin = origin_primitive_player_machine_age
					# has_origin = origin_primitive_player_atomic_age
					# has_origin = origin_primitive_player_early_space_age
					any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
					AND = {
						is_primitive = yes
						OR = {
							has_country_flag = steam_age
							has_country_flag = machine_age
							has_country_flag = industrial_age
							has_country_flag = atomic_age
							has_country_flag = early_space_age
						}
					}
				}
			}
		}
	}

	resources = {
		category = planet_jobs_productive	# Deliberately not planet_artisans or planet_metallurgists	# Vanilla note
		produces = {
			trigger = { OWNER = { NOT = { has_technology = tech_ship_armor_1 } } }
			consumer_goods = 4
		}
		produces = {
			trigger = { OWNER = { has_technology = tech_ship_armor_1 } }
			consumer_goods = 2
		}
		produces = {
			trigger = { OWNER = { has_technology = tech_ship_armor_1 } }
			alloys = 1	
		}
		upkeep = {
			minerals = 4
		}
	}



	# weight = {
	#	weight = @worker_job_weight
	#}
	weight = {
		weight = @specialist_job_weight
		mult = value:job_weights_modifier|JOB|artisan|RESOURCE|consumer_goods|
		modifier = {
			factor = 2
			is_enslaved = yes
			can_take_servant_job = no
		}
		# modifier = {
		#	factor = 5
		#	# has_job_type = artisan	# No Longer Used in Stellaris 4.0
		#}

		# Low income modifier
		modifier = {
			factor = 1.2
			exists = planet
			planet = {
				has_available_jobs = "artisan"
			}
			exists = owner
			owner = {
				is_ai = yes
				has_monthly_income = {
					resource = consumer_goods
					value < 5
				}
			}
		}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = worker
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_foundry = {
	category = specialist
	is_capped_by_modifier = yes

	swappable_data = {
		default = {
			building_icon = building_primitive_factory
			# clothes_texture_index = 2
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_worker_job

	possible = {
		#OR = {
			#planet = {
			#	has_building = building_primitive_factory
			#}
			owner = {
				OR = {
					# has_origin = origin_primitive_player_pre_industrial_age
					# has_origin = origin_primitive_player_industrial_age
					# has_origin = origin_primitive_player_machine_age
					# has_origin = origin_primitive_player_atomic_age
					# has_origin = origin_primitive_player_early_space_age
					any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
					AND = {
						is_primitive = yes
						OR = {
							has_country_flag = steam_age
							has_country_flag = machine_age
							has_country_flag = industrial_age
							has_country_flag = atomic_age
							has_country_flag = early_space_age
						}
					}
				}
			}
		#}
	}
	
	triggered_planet_modifier = {
		potential = {
			planet = {
				has_owner = yes
				#NOT = { has_building = building_generator_generic }
			}
		}
		pop_environment_tolerance = -0.06
	}

	resources = {
		category = planet_jobs_productive	# Deliberately not planet_artisans or planet_metallurgists	# Vanilla note
		produces = {
			alloys = 1	
		}
		upkeep = {
			minerals = 2
			energy = 3
		}
	}



	# weight = {
	#	weight = @worker_job_weight
	#}
	weight = {
		weight = @specialist_job_weight
		mult = value:job_weights_modifier|JOB|artisan|RESOURCE|consumer_goods|
		modifier = {
			factor = 2
			is_enslaved = yes
			can_take_servant_job = no
		}
		# modifier = {
		#	factor = 5
		#	# has_job_type = artisan	# No Longer Used in Stellaris 4.0
		#}

		# Low income modifier
		modifier = {
			factor = 1.2
			exists = planet
			planet = {
				has_available_jobs = "artisan"
			}
			exists = owner
			owner = {
				is_ai = yes
				has_monthly_income = {
					resource = consumer_goods
					value < 5
				}
			}
		}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = specialist
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_miner = {
	category = worker
	is_capped_by_modifier = yes

	swappable_data = {
		default = {
			building_icon = building_primitive_mine
			icon = miner
			# clothes_texture_index = 2
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_worker_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				is_primitive = yes
			}
		}
	}

	resources = {
		category = planet_miners
		produces = {
			minerals = 3
		}
	}

	weight = {
		weight = @worker_job_weight
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = worker
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_technician = {
	category = worker
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_power_plant
			icon = technician
			# clothes_texture_index = 2
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_worker_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				is_primitive = yes
			}
		}
	}

	triggered_planet_modifier = {
		potential = {
			planet = {
				has_owner = yes
				NOT = { has_building = building_generator_generic }
			}
		}
		pop_environment_tolerance = -0.03
	}
	
	triggered_planet_modifier = {
		potential = {
			planet = {
				has_owner = yes
				#Voltaic Production Yards (Solar) supplements grid
				num_buildings = {  type = building_generator_generic  value = 1  disabled = no }
			}
		}
		pop_environment_tolerance = -0.02
	}
	
	triggered_planet_modifier = {
		potential = {
			planet = {
				has_owner = yes
				#Voltaic Production Yards (Solar) supplements grid
				num_buildings = {  type = building_generator_generic  value = 2  disabled = no }
			}
		}
		pop_environment_tolerance = -0.01
	}
	
	#Cog Note - No polution if planet has over 2 #Voltaic Production Yards (Solar)

	resources = {
		category = planet_technician
		produces = {
			energy = 2		# Upped from vanilla's energy = 1
		}
		upkeep = {
			minerals = 1	# Added mineral upkeep
		}
	}

	# weight = {
	#	weight = @worker_job_weight
	#}
	weight = {
		weight = @worker_job_weight
		mult = value:job_weights_modifier|JOB|technician|RESOURCE|energy|
		modifier = {
			factor = 100
			OR = {
				is_non_sapient_robot = yes
				is_shackled_robot = yes
			}
			can_take_servant_job = no
			can_fill_specialist_job_trigger = no
		}
		modifier = {
			factor = 8
			is_enslaved = yes
			can_take_servant_job = no
			OR = {
				has_trait = trait_syncretic_proles
				has_trait = trait_robot_superconductive
				has_trait = trait_ingenious
			}
		}
		modifier = {
			factor = 2
			OR = {
				is_non_sapient_robot = yes
				is_shackled_robot = yes
			}
			can_take_servant_job = no
		}
		modifier = {
			factor = 0.25
			can_take_servant_job = yes
		}
		# Low income modifier
		modifier = {
			factor = 3
			exists = planet
			planet = {
				has_available_jobs = technician
			}
			exists = owner
			owner = {
				has_monthly_income = {
					resource = energy
					value < 10
				}
			}
		}
		modifier = {
			factor = 5
			has_trait = trait_cyborg_creed_of_labor
		}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = worker
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_farmer = {
	category = worker
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_farm
			# clothes_texture_index = 2
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_worker_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				is_primitive = yes
			}
		}
	}

	resources = {
		category = planet_farmers
		produces = {
			food = 3
		}
	}

	weight = {
		weight = @worker_job_weight
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = worker
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_researcher_2 = {
	category = specialist
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_labs
			# clothes_texture_index = 3
		}
	}
	
	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job

	possible = {
		OR = {
			planet = {
				has_building = building_primitive_research
			}
			owner = {
				OR = {
					# has_origin = origin_primitive_player_pre_industrial_age
					# has_origin = origin_primitive_player_industrial_age
					# has_origin = origin_primitive_player_machine_age
					# has_origin = origin_primitive_player_atomic_age
					# has_origin = origin_primitive_player_early_space_age
					any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
					AND = {
						is_primitive = yes
						OR = {
							has_country_flag = machine_age
							has_country_flag = industrial_age
							has_country_flag = atomic_age
							has_country_flag = early_space_age
						}
					}
				}
			}
		}
	}

	resources = {
		category = planet_researchers
		produces = {
			physics_research = 2
			engineering_research = 2
			society_research = 2
		}
		upkeep = {
			consumer_goods = 1
		}
	}

	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 6
			is_materialist = yes
		}
		modifier = {
			factor = 0
			is_spiritualist = yes
		}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = specialist
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_priest_2 = {
	category = specialist
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_temple
			# clothes_texture_index = 3
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	resources = {
		category = planet_jobs
		produces = {
			unity = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_add = 200
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	weight = {
		weight = @specialist_job_weight
		mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
		modifier = {
			factor = 6
			is_spiritualist = yes
		}
		modifier = {
			factor = 0
			is_materialist = yes
		}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = specialist
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_entertainer = {
	category = specialist
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_amusement_megaplex
			# clothes_texture_index = 1
			icon = entertainer
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_add = 800
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	weight = {
		weight = @specialist_job_weight
		mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = specialist
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_warrior_2 = {
	category = specialist
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_residence
			# clothes_texture_index = 2
		}
		swap_type = {
			trigger = {
				soldier_is_necromancer = yes
			}
			name = necromancer
			desc = necromancer
			icon = necromancer
			building_icon = building_dread_encampment
			weight = 50
		}
		swap_type = {
			trigger = {
				soldier_is_mercenary = yes
			}
			name = mercenary
			desc = mercenary
			icon = mercenary
			weight = 50
		}
		swap_type = {
			trigger = {
				soldier_is_templar = yes
			}
			name = templar
			desc = templar
			icon = templar
			weight = 50
		}
		swap_type = {
			trigger = {
				soldier_is_mercenary = yes
				soldier_is_necromancer = yes
			}
			name = death_trader
			desc = death_trader
			icon = necromancer
			building_icon = building_dread_encampment
			weight = 100
		}
		swap_type = {
			trigger = {
				soldier_is_mercenary = yes
				soldier_is_templar = yes
			}
			name = saint_mercenary
			desc = saint_mercenary
			icon = templar
			weight = 100
		}
		swap_type = {
			trigger = {
				soldier_is_necromancer = yes
				soldier_is_templar = yes
			}
			name = death_knight
			desc = death_knight
			icon = templar
			building_icon = building_dread_encampment
			weight = 100
		}
		swap_type = {
			trigger = {
				soldier_is_necromancer = yes
				soldier_is_mercenary = yes
				soldier_is_templar = yes
			}
			name = grey_paladin
			desc = grey_paladin
			icon = templar
			building_icon = building_dread_encampment
			weight = 150
		}
		#############
		#	Pirate	#
		#############
		swap_type = {
			trigger = {
				soldier_is_pirate = yes
			}
			name = soldier_pirate	# Pirate
			desc = soldier_pirate
			icon = soldier_pirate
			#building_icon = building_dread_encampment
			weight = 75
		}
		swap_type = {
			trigger = {
				soldier_is_pirate = yes
				soldier_is_necromancer = yes
			}
			name = necromancer_pirate	# Dread Pirate
			desc = necromancer_pirate
			icon = necromancer_pirate
			weight = 75
		}
		swap_type = {
			trigger = {
				soldier_is_pirate = yes
				soldier_is_mercenary = yes
			}
			name = mercenary_pirate	# Privateer
			desc = mercenary_pirate
			icon = mercenary_pirate
			weight = 75
		}
		swap_type = {
			trigger = {
				soldier_is_pirate = yes
				soldier_is_templar = yes
			}
			name = templar_pirate	# Pirate Knight
			desc = templar_pirate
			icon = templar_pirate
			weight = 75
		}
		swap_type = {
			trigger = {
				soldier_is_pirate = yes
				soldier_is_mercenary = yes
				soldier_is_necromancer = yes
			}
			name = death_trader_pirate	#Dread Privateer
			desc = death_trader_pirate
			icon = necromancer
			building_icon = building_dread_encampment
			weight = 125
		}
		swap_type = {
			trigger = {
				soldier_is_pirate = yes
				soldier_is_necromancer = yes
				soldier_is_templar = yes
			}
			name = death_knight_pirate	# Dread Pirate Knight
			desc = death_knight_pirate
			icon = templar
			building_icon = building_dread_encampment
			weight = 125
		}
		swap_type = {
			trigger = {
				soldier_is_pirate = yes
				soldier_is_mercenary = yes
				soldier_is_templar = yes
			}
			name = saint_mercenary_pirate	#Privateer Knights
			desc = saint_mercenary_pirate
			icon = templar
			weight = 125
		}
		swap_type = {
			trigger = {
				soldier_is_pirate = yes
				soldier_is_necromancer = yes
				soldier_is_mercenary = yes
				soldier_is_templar = yes
			}
			name = grey_paladin_pirate	# Dread Privateer Paladin
			desc = grey_paladin_pirate
			icon = templar
			building_icon = building_dread_encampment
			weight = 175
		}
	}
	
	tags = { soldier }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	# pop_group_modifier = {	# No Longer Used in Stellaris 4.0
	#	pop_defense_armies_add = 3
	#}
	
	triggered_planet_modifier = {
		modifier = {
			planet_stability_add = 1
		}
		mult = planet.modifier:job_soldier_stability_add
	}

	triggered_planet_modifier = {
		potential = {
			planet = {
				exists = owner
				owner = { has_tradition = "tr_modularity_3" }
			}
		}
		modifier = {
			planet_stability_add = 0.25
		}
	}

	triggered_planet_modifier = {
		potential = {
			soldier_is_templar = yes
			exists = planet
			planet = { has_modifier = witch_hunt }
		}
		modifier = {
			planet_stability_add = 2
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_councilor = { COUNCILOR = "councilor_private_military_companies" }
		}

		modifier = {
			planet_stability_add = @councilor_private_military_companies_stability
		}

		mult = value:councilor_level|TYPE|councilor_private_military_companies|
	}

	planet_modifier = {
		planet_stability_add = 0.25
		planet_defense_armies_add = 3
	}
	
	resources = {
		category = planet_soldiers
		produces = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_martial_brotherhood
				}
			}
			unity = 2
		}
		produces = {
			trigger = {
				soldier_is_necromancer = yes
			}
			physics_research = 2
			society_research = 2
		}
		produces = {
			trigger = {
				soldier_is_mercenary = yes
			}
			trade = 2
		}
		produces = {
			trigger = {
				soldier_is_templar = yes
			}
			unity = 2
		}
		produces = {
			trigger = {
				soldier_is_templar = yes
				exists = planet
				planet = { has_modifier = witch_hunt }
			}
			unity = 2
		}
		upkeep = {
			energy = 0.5
			minerals = 0.5
		}
		upkeep = {
			trigger = {
				soldier_is_necromancer = yes
			}
			consumer_goods = 1
		}
		upkeep = {
			trigger = {
				soldier_is_mercenary = yes
			}
			consumer_goods = 0.5
		}
	}

	weight = {
		weight = @soldier_job_weight
		modifier = {
			factor = 6
			is_militarist = yes
		}
		modifier = {
			factor = 0
			is_pacifist = yes
		}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = specialist
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_bureaucrat = {
	category = ruler
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_capital
			# clothes_texture_index = 3
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_ruler_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	resources = {
		category = planet_politicians
		produces = {
			unity = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_add = 300
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	weight = {
		weight = @ruler_job_weight
		mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = ruler
				AMOUNT = local_pop_amount
			}
		}
	}
}

solarpunk_anarchist = {
	category = ruler
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_paradise_dome
			icon = ranger
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_ruler_job

	resources = {
		category = planet_politicians
		produces = {
			unity = 3
		}
	}

	planet_modifier = {
		planet_stability_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_add = 100
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = ruler
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_administrator = {
	category = specialist
	is_capped_by_modifier = yes

	swappable_data = {
		default = {
			building_icon = building_primitive_offices
			icon = low_tech_bureaucrat
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_sapient = yes
	}

	possible = {
		OR = {
			planet = {
				has_building = building_primitive_offices
			}
			owner = {
				OR = {
					# has_origin = origin_primitive_player_pre_industrial_age
					# has_origin = origin_primitive_player_industrial_age
					# has_origin = origin_primitive_player_machine_age
					# has_origin = origin_primitive_player_atomic_age
					# has_origin = origin_primitive_player_early_space_age
					any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
					AND = {
						is_primitive = yes
						OR = {
							has_country_flag = machine_age
							has_country_flag = industrial_age
							has_country_flag = atomic_age
							has_country_flag = early_space_age
						}
					}
				}
			}
		}
	}

	resources = {
		category = planet_bureaucrats
		produces = {
			unity = 2
		}
		upkeep = {
			consumer_goods = 1
		}
	}

	weight = {
		weight = @specialist_job_weight
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = specialist
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_roboticist = {
	category = specialist
	swappable_data = {
		default = {
			condition_string = SPECIALIST_JOB_TRIGGER
			building_icon = building_robot_assembly_plant
			# clothes_texture_index = 3
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					has_country_flag = early_space_age
				}
			}
		}
	}

	possible_precalc = can_fill_specialist_job

	triggered_planet_modifier = {
		potential = {
		}
		planet_pop_assembly_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				exists = ruler
				ruler = {
					has_trait = leader_trait_legendary_great_inventor
				}
			}
		}
		planet_amenities_add = 100
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				exists = ruler
				ruler = {
					has_trait = leader_trait_legendary_great_inventor_2
				}
			}
		}
		planet_amenities_add = 200
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				exists = ruler
				ruler = {
					has_trait = leader_trait_legendary_great_inventor_3
				}
			}
		}
		planet_amenities_add = 300
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_modularity_2
			}
		}
		planet_pop_assembly_add = 1 # If this changes, update tr_modularity_2_modifier_desc
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_active_tradition = tr_synthetics_prefabricated_components
			}
		}
		planet_amenities_add = 200
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		# Actual value determined in the script value below
		branch_office_value_mult = 1
		mult = value:roboticist_branch_office_value_mult
	}

	resources = {
		category = planet_pop_assemblers
		upkeep = {
			minerals = 4
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_country_flag = synth_unscheduled_updates
				}
			}
			minerals = 2
		}
	}

	weight = {
		weight = 500
		modifier = {
			factor = 10
			owner = { is_synthetic_empire = yes }
		}
	}
}

### Pre-FTL Hive-Mind Jobs ###

hive_sustenance_drone = {
	category = simple_drone
	is_capped_by_modifier = no
	swappable_data = {
		default = {
			# clothes_texture_index = 2
			icon = hunter_gatherer
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			is_primitive = yes
			is_hive_empire = yes
			has_country_flag = stone_age
		}
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_no_happiness_add = 100
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	resources = {
		category = planet_farmers
		produces = {
			food = 1
		}
	}

	weight = {
		weight = 0.01
		# modifier = {
		#	factor = value:job_weights_modifier|JOB|hive_sustenance_drone|RESOURCE|minerals|
		#	is_lithoid = yes
		#}
		# modifier = {
		#	factor = value:job_weights_modifier|JOB|hive_sustenance_drone|RESOURCE|food|
		#	is_lithoid = no
		#}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = simple_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

hive_sustenance_drone_lithoid = {
	category = simple_drone
	is_capped_by_modifier = no

	swappable_data = {
		default = {
			icon = hunter_gatherer
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			is_primitive = yes
			is_hive_empire = yes
			has_country_flag = stone_age
		}
		is_lithoid = yes
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_no_happiness_add = 100
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	resources = {
		category = planet_farmers
		produces = {
			minerals = 1
		}
	}

	weight = {
		weight = @simple_drone_job_weight
		modifier = {
			factor = value:job_weights_modifier|JOB|hive_sustenance_drone|RESOURCE|minerals|
			is_lithoid = yes
		}
		modifier = {
			factor = value:job_weights_modifier|JOB|hive_sustenance_drone|RESOURCE|food|
			is_lithoid = no
		}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = simple_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

hive_basic_agri_drone = {
	category = simple_drone
	is_capped_by_modifier = no
	swappable_data = {
		default = {
			building_icon = building_primitive_farm
			# clothes_texture_index = 2
			icon = peasant
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			is_primitive = yes
			is_hive_empire = yes
			OR = {
				has_country_flag = bronze_age
				has_country_flag = iron_age
				has_country_flag = late_medieval_age
				has_country_flag = renaissance_age
				has_country_flag = steam_age
			}
		}
	}

	resources = {
		category = planet_farmers
		produces = {
			food = 2
		}
	}

	weight = {
		weight = @simple_drone_job_weight
		modifier = {
			factor = value:job_weights_modifier|JOB|hive_basic_agri_drone|RESOURCE|minerals|
			is_lithoid = yes
		}
		modifier = {
			factor = value:job_weights_modifier|JOB|hive_basic_agri_drone|RESOURCE|food|
			is_lithoid = no
		}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = simple_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

hive_basic_agri_drone_lithoid = {
	category = simple_drone
	is_capped_by_modifier = no

	swappable_data = {
		default = {
			building_icon = building_primitive_farm
			icon = peasant
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			is_primitive = yes
			is_hive_empire = yes
			OR = {
				has_country_flag = bronze_age
				has_country_flag = iron_age
				has_country_flag = late_medieval_age
				has_country_flag = renaissance_age
				has_country_flag = steam_age
			}
		}
		is_lithoid = yes
	}

	resources = {
		category = planet_farmers
		produces = {
			minerals = 2
		}
	}

	weight = {
		weight = @simple_drone_job_weight
		modifier = {
			factor = value:job_weights_modifier|JOB|hive_basic_agri_drone|RESOURCE|minerals|
			is_lithoid = yes
		}
		modifier = {
			factor = value:job_weights_modifier|JOB|hive_basic_agri_drone|RESOURCE|food|
			is_lithoid = no
		}
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = simple_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_hive_warrior = {
	category = simple_drone
	is_capped_by_modifier = yes

	swappable_data = {	# New to Stellaris 4.0
		default = {
			building_icon = building_primitive_dwellings
			icon = primitive_warrior
		}
	}

	tags = { soldier }	# New to Stellaris 4.0

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job
	possible = {
		owner = {
			is_primitive = yes
			OR = {
				has_country_flag = bronze_age
				has_country_flag = iron_age
				has_country_flag = late_medieval_age
				has_country_flag = renaissance_age
				has_country_flag = steam_age
			}
		}
	}

	# pop_group_modifier = {	# No Longer Used in Stellaris 4.0
	#	pop_defense_armies_add = 3
	#}

	planet_modifier = {
		planet_defense_armies_add = 3
	}

	weight = {
		weight = @soldier_job_weight
	}

	promotion = {	# New to Stellaris 4.0
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = simple_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_hive_synapse_drone = {
	category = complex_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_capital
			icon = synapse_drone
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				is_primitive = yes
			}
		}
	}

	resources = {
		category = planet_bureaucrats
		produces = {
			unity = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_no_happiness_add = 300
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	weight = {
		weight = @synapse_drone_job_weight
		mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
		mult = value:job_weights_modifier|JOB|primitive_hive_synapse_drone|RESOURCE|unity|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = complex_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_hive_cerebellum_drone = {
	category = complex_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_labs
			icon = brain_drone
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			is_primitive = yes
			OR = {
				has_country_flag = bronze_age
				has_country_flag = iron_age
				has_country_flag = late_medieval_age
				has_country_flag = renaissance_age
				has_country_flag = steam_age
			}
		}
	}

	resources = {
		category = planet_researchers
		produces = {
			physics_research = 1
			engineering_research = 1
			society_research = 1
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_research_modifier|JOB|primitive_hive_cerebellum_drone|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = complex_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_hive_factory_drone = {
	category = simple_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_factory
			icon = primitive_laborer
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = steam_age
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	resources = {
		category = planet_artisans
		produces = {
			consumer_goods = 2
		}
		upkeep = {
			minerals = 2
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|primitive_hive_factory_drone|RESOURCE|alloys|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = simple_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_hive_miner = {
	category = simple_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_mine
			icon = miner
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = steam_age
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	resources = {
		category = planet_miners
		produces = {
			minerals = 3
		}
	}

	weight = {
		weight = @simple_drone_job_weight
		mult = value:job_weights_modifier|JOB|primitive_hive_miner|RESOURCE|minerals|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = simple_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_hive_technician = {
	category = simple_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_power_plant
			icon = technician
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = steam_age
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	planet_modifier = {
		pop_environment_tolerance = -0.02
	}

	resources = {
		category = planet_technician
		produces = {
			energy = 2
		}
		upkeep = {
			minerals = 1
		}
	}

	weight = {
		weight = @simple_drone_job_weight
		mult = value:job_weights_modifier|JOB|primitive_hive_technician|RESOURCE|energy|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = simple_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_hive_farmer = {
	category = simple_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_farm
			icon = primitive_farmer
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = steam_age
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	resources = {
		category = planet_farmers
		produces = {
			food = 3
		}
	}

	weight = {
		weight = @simple_drone_job_weight
		mult = value:job_weights_modifier|JOB|primitive_hive_farmer|RESOURCE|food|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = simple_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_hive_brain_drone = {
	category = complex_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_labs
			icon = brain_drone
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	resources = {
		category = planet_researchers
		produces = {
			physics_research = 1
			engineering_research = 1
			society_research = 1
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_research_modifier|JOB|primitive_hive_brain_drone|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = complex_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_hive_spawning_drone = {
	category = complex_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_spawning_pool
			icon = spawning_drone
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			is_primitive = yes
		}
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_no_happiness_add = 800
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = complex_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_hive_warrior_2 = {
	category = simple_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_residence
			icon = warrior_drone
		}
	}

	tags = { soldier }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	# pop_group_modifier = {	# No Longer Used in Stellaris 4.0
	#	pop_defense_armies_add = 3
	#}

	planet_modifier = {
		planet_defense_armies_add = 3
	}

	weight = {
		weight = @soldier_job_weight
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = simple_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_hive_synapse_drone_2 = {
	category = complex_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_capital
			icon = synapse_drone
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	resources = {
		category = planet_bureaucrats
		produces = {
			unity = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_no_happiness_add = 300
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	weight = {
		weight = @synapse_drone_job_weight
		mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
		mult = value:job_weights_modifier|JOB|primitive_hive_synapse_drone_2|RESOURCE|unity|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = complex_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

primitive_hive_maintenance_drone = {	### USED BY MACHINES TOO###
	category = simple_drone
	is_capped_by_modifier = no
	swappable_data = {
		default = {
			building_icon = building_maintenance_depot
			icon = maintenance_drone
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				is_primitive = yes
			}
		}
	}

	triggered_planet_modifier = {
		potential = {
			always = yes
		}
		planet_amenities_no_happiness_add = 200
		mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
	}

	weight = {
		weight = 1
		mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = simple_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

################################## Pre-FTL Machines Jobs ####################################################################

machine_basic_agri_drone = {
	category = simple_drone
	is_capped_by_modifier = no
	swappable_data = {
		default = {
			building_icon = building_primitive_farm
			# clothes_texture_index = 2
			icon = peasant
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			is_primitive = yes
			is_hive_empire = yes
			OR = {
				has_country_flag = bronze_age
				has_country_flag = iron_age
				has_country_flag = late_medieval_age
				has_country_flag = renaissance_age
				has_country_flag = steam_age
			}
		}
	}

	resources = {
		category = planet_farmers
		produces = {
			trigger = {
				always = yes
			}
			food = 2
		}
	}

	weight = {
		weight = @simple_drone_job_weight
		modifier = {
			factor = value:job_weights_modifier|JOB|hive_basic_agri_drone|RESOURCE|minerals|
			is_lithoid = yes
		}
		modifier = {
			factor = value:job_weights_modifier|JOB|hive_basic_agri_drone|RESOURCE|food|
			is_lithoid = no
		}
	}
}

primitive_machine_factory_drone = {
	category = simple_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_factory
			icon = primitive_laborer
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = steam_age
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	resources = {
		category = planet_artisans
		produces = {
			consumer_goods = 2
		}
		upkeep = {
			minerals = 2
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|primitive_hive_factory_drone|RESOURCE|alloys|
	}
}

primitive_machine_miner = {
	category = simple_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_mine
			icon = miner
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = steam_age
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	resources = {
		category = planet_miners
		produces = {
			minerals = 3
		}
	}

	weight = {
		weight = @simple_drone_job_weight
		mult = value:job_weights_modifier|JOB|primitive_hive_miner|RESOURCE|minerals|
	}
}

primitive_machine_technician = {
	category = simple_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_power_plant
			icon = technician
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = steam_age
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	planet_modifier = {
		pop_environment_tolerance = -0.02
	}

	resources = {
		category = planet_technician
		produces = {
			energy = 2
		}
		upkeep = {
			minerals = 1
		}
	}

	weight = {
		weight = @simple_drone_job_weight
		mult = value:job_weights_modifier|JOB|primitive_hive_technician|RESOURCE|energy|
	}
}

primitive_machine_farmer = {
	category = simple_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_farm
			icon = primitive_farmer
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = steam_age
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	resources = {
		category = planet_farmers
		produces = {
			food = 3
		}
	}

	weight = {
		weight = @simple_drone_job_weight
		mult = value:job_weights_modifier|JOB|primitive_hive_farmer|RESOURCE|food|
	}
}

primitive_machine_calculator = {
	category = complex_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_primitive_labs
			icon = brain_drone
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	resources = {
		category = planet_researchers
		produces = {
			physics_research = 1
			engineering_research = 1
			society_research = 1
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_research_modifier|JOB|primitive_hive_brain_drone|
	}
}

primitive_replicator = {
	category = replicator
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_spawning_pool
			icon = spawning_drone
		}
	}

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		OR = {
			AND = {
				can_think = yes
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
			}
			is_primitive = yes
		}
	}

	planet_modifier = {
		planet_pop_assembly_add = 0.5
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_modularity_2
			}
		}
		planet_pop_assembly_add = 0.5 # If this changes, update tr_modularity_2_modifier_desc
	}

	resources = {
		category = planet_pop_assemblers
		upkeep = {
			minerals = 2
		}
	}

	weight = {
		weight = @spawner_drone_job_weight
		modifier = {
			factor = 0.01 # Crisis purge
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

primitive_patrol_drone = {
	category = complex_drone
	is_capped_by_modifier = yes
	swappable_data = {
		default = {
			building_icon = building_residence
			icon = patrol_drone
		}
	}
	
	tags = { soldier }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job

	possible = {
		owner = {
			OR = {
				# has_origin = origin_primitive_player_pre_industrial_age
				# has_origin = origin_primitive_player_industrial_age
				# has_origin = origin_primitive_player_machine_age
				# has_origin = origin_primitive_player_atomic_age
				# has_origin = origin_primitive_player_early_space_age
				any_situation = { is_situation_type = PrimPlayer_situation } # Much more efficient trigger
				AND = {
					is_primitive = yes
					OR = {
						has_country_flag = machine_age
						has_country_flag = industrial_age
						has_country_flag = atomic_age
						has_country_flag = early_space_age
					}
				}
			}
		}
	}

	# pop_group_modifier = {	# No Longer Used in Stellaris 4.0
	#	pop_defense_armies_add = 3
	#}

	planet_modifier = {
		planet_defense_armies_add = 3
	}

	weight = {
		weight = @soldier_job_weight
	}
}
