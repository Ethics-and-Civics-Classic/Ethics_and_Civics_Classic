namespace = origin
namespace = fircon
namespace = action
namespace = primitive_origin

@PreFTLDiplomacyEventTimer = 1800
@PreFTLDiplomacyEventTimerLong = 5400


### First Contact Diplomatic Message
country_event = {
	id = action.1
	title = action.1.name
	message_desc = action.1.message
	location = event_target:contact_empire.capital_scope

	picture_event_data = {
		portrait = event_target:contact_empire
		planet_background = event_target:contact_empire
		graphical_culture = event_target:contact_empire
		city_level = event_target:contact_empire
		room = event_target:contact_empire.ruler
	}
	
	# MSI to Uplifted Obelisk
	desc = {
		text = "action.1.preftl_action_trade_pact_msi"
		trigger = {
			first_contact_custom_greeting = yes
			NOT = { is_same_species = event_target:contact_empire }
			#has_country_flag = preftl_action_trade_pact_msi
			has_civic = PrimPlayer_civic_the_obelisk
			event_target:contact_empire = {
				is_country_type = default
				has_origin = origin_slavers
				has_country_flag = special_intro_for@root
			}
		}
	}
	
	# MSI to Obelisk	- Can't condition two description scenarios for some reason
	#desc = {
	#	text = "action.1.obelisk"
	#	trigger = {
	#		first_contact_custom_greeting = yes
	#		NOT = { is_same_species = event_target:contact_empire }
	#		NOT = { has_country_flag = preftl_action_trade_pact_msi }
	#		has_civic = PrimPlayer_civic_the_obelisk
	#		event_target:contact_empire = {
	#			is_country_type = default
	#			has_origin = origin_slavers
	#			has_country_flag = special_intro_for@root
	#		}
	#	}
	#}

	### Custom First Contact system flavour
	desc = {
		text = action.1.desc_hacking_01
		trigger = {
			event_target:contact_empire = {
				is_homicidal = no
				is_gestalt = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_caught_hacking
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hacking_02
		trigger = {
			event_target:contact_empire = {
				is_homicidal = no
				is_machine_empire = yes
				has_opinion_modifier = {
					who = root
					modifier = opinion_caught_hacking
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hacking_03
		trigger = {
			event_target:contact_empire = {
				is_homicidal = no
				is_hive_empire = yes
				has_opinion_modifier = {
					who = root
					modifier = opinion_caught_hacking
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hostile_01
		trigger = {
			event_target:contact_empire = {
				is_pacifist = no
				is_xenophile = no
				OR = {
					is_xenophobe = no
					is_same_species = root
				}
				is_gestalt = no
				is_homicidal = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hostile_02
		trigger = {
			event_target:contact_empire = {
				OR = {
					is_pacifist = yes
					is_xenophile = yes
				}
				is_homicidal = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hostile_03
		trigger = {
			event_target:contact_empire = {
				is_machine_empire = yes
				is_homicidal = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hostile_04
		trigger = {
			event_target:contact_empire = {
				is_hive_empire = yes
				is_wilderness_empire = no
				is_homicidal = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hostile_05
		trigger = {
			event_target:contact_empire = {
				is_xenophobe = yes
				is_homicidal = no
				is_pacifist = no
				NOT = { is_same_species = root }
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hostile_06
		trigger = {
			event_target:contact_empire = {
				is_wilderness_empire = yes
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact
				}
			}
		}
	}
	desc = {
		text = action.1.desc_they_hostile_01
		trigger = {
			event_target:contact_empire = {
				is_gestalt = no
			}
			has_opinion_modifier = {
				who = event_target:contact_empire
				modifier = opinion_hostile_first_contact_vivisection
			}
		}
	}
	desc = {
		text = action.1.desc_they_hostile_02
		trigger = {
			event_target:contact_empire = {
				is_machine_empire = yes
			}
			has_opinion_modifier = {
				who = event_target:contact_empire
				modifier = opinion_hostile_first_contact_vivisection
			}
		}
	}
	desc = {
		text = action.1.desc_they_hostile_03
		trigger = {
			event_target:contact_empire = {
				is_hive_empire = yes
			}
			has_opinion_modifier = {
				who = event_target:contact_empire
				modifier = opinion_hostile_first_contact_vivisection
			}
		}
	}
	desc = {
		text = action.1.desc_vivisection_01
		trigger = {
			event_target:contact_empire = {
				is_pacifist = no
				is_machine_empire = no
				is_hive_empire = no
				is_homicidal = no
				is_individual_machine = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact_vivisection
				}
			}
		}
	}
	desc = {
		text = action.1.desc_vivisection_02
		trigger = {
			event_target:contact_empire = {
				is_pacifist = yes
				is_machine_empire = no
				is_hive_empire = no
				is_homicidal = no
				is_individual_machine = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact_vivisection
				}
			}
		}
	}
	desc = {
		text = action.1.desc_vivisection_03
		trigger = {
			event_target:contact_empire = {
				OR = {
					is_machine_empire = yes
					is_individual_machine = yes
				}
				is_hive_empire = no
				is_homicidal = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact_vivisection
				}
			}
		}
	}
	desc = {
		text = action.1.desc_vivisection_04
		trigger = {
			event_target:contact_empire = {
				is_hive_empire = yes
				is_homicidal = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact_vivisection
				}
			}
		}
	}
	desc = {
		text = action.1.desc_they_vivisect_01
		trigger = {
			is_synthetic_empire = no
			has_opinion_modifier = {
				who = event_target:contact_empire
				modifier = opinion_hostile_first_contact_vivisection
			}
		}
	}
	desc = {
		text = action.1.desc_they_vivisect_02
		trigger = {
			is_synthetic_empire = yes
			has_opinion_modifier = {
				who = event_target:contact_empire
				modifier = opinion_hostile_first_contact_vivisection
			}
		}
	}
	desc = {
		text = action.1.desc_hungry_01
		trigger = {
			event_target:contact_empire = {
				is_pacifist = no
				is_lithoid = no
				is_machine_empire = no
				is_individual_machine = no
				is_hive_empire = no
				is_homicidal = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact_hungry
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hungry_02
		trigger = {
			event_target:contact_empire = {
				is_pacifist = yes
				is_lithoid = no
				is_hive_empire = no
				is_homicidal = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact_hungry
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hungry_03
		trigger = {
			event_target:contact_empire = {
				OR = {
					is_machine_empire = yes
					is_individual_machine = yes
				}
				is_lithoid = no
				is_hive_empire = no
				is_homicidal = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact_hungry
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hungry_04
		trigger = {
			event_target:contact_empire = {
				is_lithoid = yes
				is_hive_empire = no
				is_homicidal = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact_hungry
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hungry_05
		trigger = {
			event_target:contact_empire = {
				is_hive_empire = yes
				is_homicidal = no
				has_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_contact_hungry
				}
			}
		}
	}
	desc = {
		text = action.1.desc_they_hungry_01
		trigger = {
			is_synthetic_empire = no
			has_opinion_modifier = {
				who = event_target:contact_empire
				modifier = opinion_hostile_first_contact_hungry
			}
		}
	}
	desc = {
		text = action.1.desc_they_hungry_02
		trigger = {
			is_synthetic_empire = yes
			has_opinion_modifier = {
				who = event_target:contact_empire
				modifier = opinion_hostile_first_contact_hungry
			}
		}
	}
	desc = {
		text = action.1.desc_hostile_to_homicidal_01
		trigger = {
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				has_valid_civic = civic_fanatic_purifiers
				OR = {
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact_hungry
					}
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact_vivisection
					}
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact
					}
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hostile_to_homicidal_02
		trigger = {
			NOR = {
				is_individual_machine = yes
				is_machine_empire = yes
			}
			event_target:contact_empire = {
				has_valid_civic = civic_machine_terminator
				OR = {
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact_hungry
					}
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact_vivisection
					}
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact
					}
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hostile_to_homicidal_03
		trigger = {
			OR = {
				is_individual_machine = yes
				is_machine_empire = yes
			}
			event_target:contact_empire = {
				has_valid_civic = civic_machine_terminator
				OR = {
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact_hungry
					}
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact_vivisection
					}
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact
					}
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hostile_to_homicidal_04
		trigger = {
			event_target:contact_empire = {
				has_valid_civic = civic_hive_devouring_swarm
				OR = {
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact_hungry
					}
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact_vivisection
					}
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact
					}
				}
			}
		}
	}
	desc = {
		text = action.1.desc_hostile_to_homicidal_05
		trigger = {
			is_same_species = event_target:contact_empire
			event_target:contact_empire = {
				has_valid_civic = civic_fanatic_purifiers
				OR = {
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact_hungry
					}
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact_vivisection
					}
					has_opinion_modifier = {
						who = root
						modifier = opinion_hostile_first_contact
					}
				}
			}
		}
	}


	### Normal (Not Xenophobe or Xenophile)
	# Militarist Autocrat
	desc = {
		text = action.1.desc_01
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				OR = {
					has_government = gov_star_empire
					has_government = gov_military_dictatorship
					has_government = gov_martial_empire
					has_government = gov_martial_dictatorship
					has_government = gov_band_blood
				}
			}
		}
	}
	# Spiritualist Autocrat
	desc = {
		text = action.1.desc_02
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			is_individual_machine = no
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				OR = {
					has_government = gov_theocratic_monarchy
					has_government = gov_theocratic_dictatorship
					has_government = gov_divine_empire
					has_government = gov_sacrificial_megachurch
					has_government = gov_mortal_empire
				}
			}
		}
	}
	# Materialist Autocrat
	desc = {
		text = action.1.desc_03
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				OR = {
					has_government = gov_despotic_hegemony
					has_government = gov_totalitarian_regime
					has_government = gov_illuminated_autocracy
					has_government = gov_technocratic_dictatorship
				}
			}
		}
	}
	# Pacifist Autocrat
	desc = {
		text = action.1.desc_04
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				OR = {
					has_government = gov_irenic_monarchy
					has_government = gov_irenic_dictatorship
					has_government = gov_celestial_empire
				}
			}
		}
	}
	# Generic Autocrat
	desc = {
		text = action.1.desc_05
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				OR = {
					has_government = gov_despotic_empire
					has_government = gov_feudal_empire
					has_government = gov_constitutional_dictatorship
					has_government = gov_enlightened_monarchy
					has_government = gov_elective_monarchy
				}
			}
		}
	}
	# Military Oligarch
	desc = {
		text = action.1.desc_06
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				OR = {
					has_government = gov_military_junta
					has_government = gov_war_council
					has_government = gov_citizen_stratocracy
				}
			}
		}
	}
	# Spiritualist Oligarch
	desc = {
		text = action.1.desc_07
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			is_individual_machine = no
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				OR = {
					has_government = gov_theocratic_oligarchy
					has_government = gov_holy_tribunal
					has_government = gov_grim_council
				}
			}
		}
	}
	# Materialist Oligarch
	desc = {
		text = action.1.desc_08
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				OR = {
					has_government = gov_executive_committee
					has_government = gov_science_directorate
				}
			}
		}
	}
	# Pacifist Oligarch
	desc = {
		text = action.1.desc_09
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
					AND = {
						exists = event_target:ratling_country
						is_same_value = event_target:ratling_country
					}
				}
				has_government = gov_irenic_bureaucracy
			}
		}
	}
	# Generic Oligarch
	desc = {
		text = action.1.desc_10
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				OR = {
					has_government = gov_megacorporation
					has_government = gov_plutocratic_oligarchy
				}
			}
		}
	}
	# Militarist Democrat
	desc = {
		text = action.1.desc_11
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				OR = {
					has_government = gov_military_commissariat
					has_government = gov_assembly_of_clans
					has_government = gov_citizen_republic
				}
			}
		}
	}
	# Spiritualist Democrat
	desc = {
		text = action.1.desc_12
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			is_individual_machine = no
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				has_government = gov_theocratic_republic
			}
		}
	}
	# Materialist Democrat
	desc = {
		text = action.1.desc_13
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				OR = {
					has_government = gov_direct_democracy
					has_government = gov_rational_consensus
				}
			}
		}
	}
	# Pacifist Democrat
	desc = {
		text = action.1.desc_14
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				has_government = gov_moral_democracy
			}
		}
	}
	# Generic Democrat
	desc = {
		text = action.1.desc_15
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				NOR = {
					has_country_flag = special_intro_for@root
					is_xenophobe = yes
					is_xenophile = yes
				}
				has_government = gov_representative_democracy
			}
		}
	}

	### Xenophobe
	# Militarist Autocrat
	desc = {
		text = action.1.desc_16
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				OR = {
					has_government = gov_star_empire
					has_government = gov_military_dictatorship
					has_government = gov_martial_empire
					has_government = gov_martial_dictatorship
					has_government = gov_band_blood
				}
				NOR = {
					has_country_flag = special_intro_for@root
					has_valid_civic = civic_fanatic_purifiers
					has_valid_civic = civic_hive_devouring_swarm
				}
			}
		}
	}
	# Spiritualist Autocrat
	desc = {
		text = action.1.desc_17
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			is_individual_machine = no
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				OR = {
					has_government = gov_theocratic_monarchy
					has_government = gov_theocratic_dictatorship
					has_government = gov_divine_empire
					has_government = gov_sacrificial_megachurch
					has_government = gov_mortal_empire
				}
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Materialist Autocrat
	desc = {
		text = action.1.desc_18
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				OR = {
					has_government = gov_despotic_hegemony
					has_government = gov_totalitarian_regime
					has_government = gov_illuminated_autocracy
					has_government = gov_technocratic_dictatorship
				}
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Pacifist Autocrat
	desc = {
		text = action.1.desc_19
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				OR = {
					has_government = gov_irenic_monarchy
					has_government = gov_irenic_dictatorship
					has_government = gov_celestial_empire
				}
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Generic Autocrat
	desc = {
		text = action.1.desc_20
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				OR = {
					has_government = gov_despotic_empire
					has_government = gov_feudal_empire
					has_government = gov_constitutional_dictatorship
					has_government = gov_enlightened_monarchy
					has_government = gov_elective_monarchy
				}
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Military Oligarch
	desc = {
		text = action.1.desc_21
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				OR = {
					has_government = gov_military_junta
					has_government = gov_war_council
					has_government = gov_citizen_stratocracy
				}
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Spiritualist Oligarch
	desc = {
		text = action.1.desc_22
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			is_individual_machine = no
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				OR = {
					has_government = gov_theocratic_oligarchy
					has_government = gov_holy_tribunal
					has_government = gov_grim_council
				}
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Materialist Oligarch
	desc = {
		text = action.1.desc_23
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				OR = {
					has_government = gov_executive_committee
					has_government = gov_science_directorate
				}
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Pacifist Oligarch
	desc = {
		text = action.1.desc_24
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				has_government = gov_irenic_bureaucracy
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Generic Oligarch
	desc = {
		text = action.1.desc_25
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				OR = {
					has_government = gov_megacorporation
					has_government = gov_plutocratic_oligarchy
				}
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Militarist Democrat
	desc = {
		text = action.1.desc_26
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				OR = {
					has_government = gov_military_commissariat
					has_government = gov_assembly_of_clans
					has_government = gov_citizen_republic
				}
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Spiritualist Democrat
	desc = {
		text = action.1.desc_27
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			is_individual_machine = no
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				has_government = gov_theocratic_republic
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Materialist Democrat
	desc = {
		text = action.1.desc_28
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				OR = {
					has_government = gov_direct_democracy
					has_government = gov_rational_consensus
				}
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Pacifist Democrat
	desc = {
		text = action.1.desc_29
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				has_government = gov_moral_democracy
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Generic Democrat
	desc = {
		text = action.1.desc_30
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophobe = yes
				has_government = gov_representative_democracy
				NOT = { has_valid_civic = civic_fanatic_purifiers }
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	### Xenophile
	# Militarist Autocrat
	desc = {
		text = action.1.desc_31
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				OR = {
					has_government = gov_star_empire
					has_government = gov_military_dictatorship
					has_government = gov_martial_empire
					has_government = gov_martial_dictatorship
				}
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Spiritualist Autocrat
	desc = {
		text = action.1.desc_32
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			is_individual_machine = no
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				OR = {
					has_government = gov_theocratic_monarchy
					has_government = gov_theocratic_dictatorship
					has_government = gov_divine_empire
					has_government = gov_sacrificial_megachurch
					has_government = gov_mortal_empire
				}
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Materialist Autocrat
	desc = {
		text = action.1.desc_33
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				OR = {
					has_government = gov_despotic_hegemony
					has_government = gov_totalitarian_regime
					has_government = gov_illuminated_autocracy
					has_government = gov_technocratic_dictatorship
				}
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Pacifist Autocrat
	desc = {
		text = action.1.desc_34
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				OR = {
					has_government = gov_irenic_monarchy
					has_government = gov_irenic_dictatorship
					has_government = gov_celestial_empire
				}
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Generic Autocrat
	desc = {
		text = action.1.desc_35
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				OR = {
					has_government = gov_despotic_empire
					has_government = gov_feudal_empire
					has_government = gov_constitutional_dictatorship
					has_government = gov_enlightened_monarchy
					has_government = gov_elective_monarchy
				}
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Military Oligarch
	desc = {
		text = action.1.desc_36
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				OR = {
					has_government = gov_military_junta
					has_government = gov_war_council
					has_government = gov_citizen_stratocracy
				}
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Spiritualist Oligarch
	desc = {
		text = action.1.desc_37
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			is_individual_machine = no
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				OR = {
					has_government = gov_theocratic_oligarchy
					has_government = gov_holy_tribunal
					has_government = gov_grim_council
				}
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Materialist Oligarch
	desc = {
		text = action.1.desc_38
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				OR = {
					has_government = gov_executive_committee
					has_government = gov_science_directorate
				}
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Pacifist Oligarch
	desc = {
		text = action.1.desc_39
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				has_government = gov_irenic_bureaucracy
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Generic Oligarch
	desc = {
		text = action.1.desc_40
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				OR = {
					has_government = gov_megacorporation
					has_government = gov_plutocratic_oligarchy
				}
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Militarist Democrat
	desc = {
		text = action.1.desc_41
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				OR = {
					has_government = gov_military_commissariat
					has_government = gov_assembly_of_clans
					has_government = gov_citizen_republic
				}
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Spiritualist Democrat
	desc = {
		text = action.1.desc_42
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			is_individual_machine = no
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				has_government = gov_theocratic_republic
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Materialist Democrat
	desc = {
		text = action.1.desc_43
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				OR = {
					has_government = gov_direct_democracy
					has_government = gov_rational_consensus
				}
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Pacifist Democrat
	desc = {
		text = action.1.desc_44
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				has_government = gov_moral_democracy
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}
	# Generic Democrat
	desc = {
		text = action.1.desc_45
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_xenophile = yes
				has_government = gov_representative_democracy
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# Cruel Foxcat
	desc = {
		text = action.1.desc_49
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				has_valid_civic = civic_fanatic_purifiers
				species_portrait = mam3
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# Hive Mind
	desc = {
		text = action.1.desc_50
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_hive_empire = yes
				NOR = {
					has_valid_civic = civic_hive_devouring_swarm
					has_country_flag = special_intro_for@root
					is_wilderness_empire = yes
				}
			}
		}
	}

	# Wilderness
	desc = {
		text = action.1.desc_53
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_wilderness_empire = yes
				NOT = { has_country_flag = special_intro_for@root } # unlikely, but failsafe
			}
		}
	}

	# Fanatic Purifier
	desc = {
		text = action.1.desc_51
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				has_valid_civic = civic_fanatic_purifiers
				NAND = {
					has_valid_civic = civic_fanatic_purifiers
					species_portrait = mam3
				}
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# Devouring Swarm
	desc = {
		text = action.1.desc_52
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_hive_empire = yes
				has_valid_civic = civic_hive_devouring_swarm
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}


	# Generic Machine Empire (To Organics)
	desc = {
		text = action.1.desc_70
		trigger = {
			first_contact_custom_greeting = no
			NOR = {
				is_same_species = event_target:contact_empire
				is_machine_empire = yes
				is_individual_machine = yes
				has_country_flag = synthetic_empire
			}
			event_target:contact_empire = {
				is_country_type = default
				OR = {
					has_government = gov_machine_empire
					has_government = gov_machine_research
					has_government = gov_machine_industrial
				}
				NOT = { has_country_flag = special_intro_for@root }
				is_individual_machine = no
			}
		}
	}

	# Generic Machine Empire (To Machines)
	desc = {
		text = action.1.desc_71
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			OR = {
				is_machine_empire = yes
				is_individual_machine = yes
				has_country_flag = synthetic_empire
			}
			event_target:contact_empire = {
				is_country_type = default
				OR = {
					has_government = gov_machine_empire
					has_government = gov_machine_research
					has_government = gov_machine_industrial
				}
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# Terminator Machine Empire (To Organics)
	desc = {
		text = action.1.desc_72
		trigger = {
			first_contact_custom_greeting = no
			NOR = {
				is_same_species = event_target:contact_empire
				is_machine_empire = yes
				is_individual_machine = yes
				has_country_flag = synthetic_empire
			}
			event_target:contact_empire = {
				is_country_type = default
				has_government = gov_machine_terminator
				NOT = { has_country_flag = special_intro_for@root }
				is_individual_machine = no
			}
		}
	}

	# Terminator Machine Empire (To Machines)
	desc = {
		text = action.1.desc_73
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			OR = {
				is_machine_empire = yes
				is_individual_machine = yes
				has_country_flag = synthetic_empire
			}
			event_target:contact_empire = {
				is_country_type = default
				has_government = gov_machine_terminator
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# Assimilator Machine Empire (To Organics)
	desc = {
		text = action.1.desc_74
		trigger = {
			first_contact_custom_greeting = no
			NOR = {
				is_same_species = event_target:contact_empire
				is_machine_empire = yes
				is_individual_machine = yes
				has_country_flag = synthetic_empire
			}
			event_target:contact_empire = {
				is_country_type = default
				has_government = gov_machine_assimilator
				NOT = { has_country_flag = special_intro_for@root }
				is_individual_machine = no
			}
		}
	}

	# Assimilator Machine Empire (To Machines)
	desc = {
		text = action.1.desc_75
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			OR = {
				is_machine_empire = yes
				is_individual_machine = yes
				has_country_flag = synthetic_empire
			}
			event_target:contact_empire = {
				is_country_type = default
				has_government = gov_machine_assimilator
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# Servitor Machine Empire (To Organics)
	desc = {
		text = action.1.desc_76
		trigger = {
			first_contact_custom_greeting = no
			NOR = {
				is_same_species = event_target:contact_empire
				is_machine_empire = yes
				has_country_flag = synthetic_empire
				is_individual_machine = yes
			}
			event_target:contact_empire = {
				is_country_type = default
				has_government = gov_machine_servitor
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# Servitor Machine Empire (To Machines)
	desc = {
		text = action.1.desc_77
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			OR = {
				is_machine_empire = yes
				has_country_flag = synthetic_empire
				is_individual_machine = yes
			}
			event_target:contact_empire = {
				is_country_type = default
				has_government = gov_machine_servitor
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	#Fallen Machine Empire (To Organics)
	desc = {
		text = action.1.desc_78
		trigger = {
			first_contact_custom_greeting = no
			NOR = {
				is_same_species = event_target:contact_empire
				is_machine_empire = yes
				has_country_flag = synthetic_empire
				is_individual_machine = yes
			}
			event_target:contact_empire = {
				is_country_type = fallen_empire
				is_machine_empire = yes
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# Fallen Machine Empire (To Machines)
	desc = {
		text = action.1.desc_79
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			OR = {
				is_machine_empire = yes
				has_country_flag = synthetic_empire
				is_individual_machine = yes
			}
			event_target:contact_empire = {
				is_country_type = fallen_empire
				is_machine_empire = yes
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# Junkheap Ratlings Empire (To those who have taken their systems)
	desc = {
		text = "action.1.desc_80"
		trigger = {
			first_contact_custom_greeting = no
			NOT = { is_same_species = event_target:contact_empire }
			exists = event_target:ratling_country
			event_target:contact_empire = {
				is_same_value = event_target:ratling_country
			}
			any_system_within_border = {
				has_star_flag = ratling_system
			}
		}
	}

	# Junkheap Ratlings Empire (To those who have not taken their systems)
	desc = {
		text = "action.1.desc_81"
		trigger = {
			first_contact_custom_greeting = no
			exists = event_target:ratling_country
			event_target:contact_empire = {
				is_same_value = event_target:ratling_country
			}
			NOR = {
				is_same_species = event_target:contact_empire
				any_system_within_border = {
					has_star_flag = ratling_system
				}
			}
		}
	}

	# Fallen Empire 1
	desc = {
		text = action.1.desc_60
		trigger = {
			event_target:contact_empire = {
				is_country_type = fallen_empire
				NOT = { has_ethic = ethic_gestalt_consciousness }
				NOT = { has_ethic = ethic_fanatic_xenophobe }
				is_fanatic_xenophile = no
				is_fanatic_materialist = no
				is_fanatic_spiritualist = no
			}
		}
	}
	# Fallen Empire 2
	desc = {
		text = action.1.desc_62
		trigger = {
			event_target:contact_empire = {
				is_country_type = fallen_empire
				is_fanatic_xenophile = yes
			}
		}
	}
	# Fallen Empire 3
	desc = {
		text = action.1.desc_63
		trigger = {
			event_target:contact_empire = {
				is_country_type = fallen_empire
				has_ethic = ethic_fanatic_xenophobe
			}
		}
	}
	# Fallen Empire 4
	desc = {
		text = action.1.desc_64
		trigger = {
			event_target:contact_empire = {
				is_country_type = fallen_empire
				is_fanatic_materialist = yes
			}
		}
	}
	# Fallen Empire 5
	desc = {
		text = action.1.desc_65
		trigger = {
			event_target:contact_empire = {
				is_country_type = fallen_empire
				is_fanatic_spiritualist = yes
			}
			NOR = {
				has_origin = origin_cybernetic_creed
				is_individual_machine = yes
			 }
		}
	}
	# Fallen Empire 6 (Cybernetic Creed)
	desc = {
		text = action.1.desc_111
		trigger = {
			event_target:contact_empire = {
				is_country_type = fallen_empire
				is_fanatic_spiritualist = yes
			}
			has_origin = origin_cybernetic_creed
		}
	}
	# Fallen Empire 7 (Individual Machine)
	desc = {
		text = action.1.desc_107
		trigger = {
			event_target:contact_empire = {
				is_country_type = fallen_empire
				is_fanatic_spiritualist = yes
			}
			NOT = { has_origin = origin_cybernetic_creed }
			is_individual_machine = yes
			is_spiritualist = no
		}
	}
	# Fallen Empire 8 (Individual Machine)
	desc = {
		text = action.1.desc_108
		trigger = {
			event_target:contact_empire = {
				is_country_type = fallen_empire
				is_fanatic_spiritualist = yes
			}
			is_individual_machine = yes
			is_spiritualist = yes
		}
	}
	# Fallen Hive Empire
	desc = {
		text = action.1.desc_109
		trigger = {
			event_target:contact_empire = {
				is_country_type = fallen_empire
				is_hive_empire = yes
			}
		}
	}
	# Awakened Fallen Empire 1
	desc = {
		text = action.1.desc_66
		trigger = {
			event_target:contact_empire = {
				is_country_type = awakened_fallen_empire
				is_fanatic_spiritualist = yes
			}
			NOR = {
				has_origin = origin_cybernetic_creed
				is_individual_machine = yes
			}
		}
	}
	# Awakened Fallen Empire 2
	desc = {
		text = action.1.desc_67
		trigger = {
			event_target:contact_empire = {
				is_country_type = awakened_fallen_empire
				is_fanatic_xenophile = yes
			}
		}
	}
	# Awakened Fallen Empire 3
	desc = {
		text = action.1.desc_68
		trigger = {
			event_target:contact_empire = {
				is_country_type = awakened_fallen_empire
				has_ethic = ethic_fanatic_xenophobe
			}
		}
	}
	# Awakened Fallen Empire 4
	desc = {
		text = action.1.desc_69
		trigger = {
			event_target:contact_empire = {
				is_country_type = awakened_fallen_empire
				is_fanatic_materialist = yes
			}
		}
	}
	# Awakened Fallen Empire 5 (Cybernetic Creed)
	desc = {
		text = action.1.desc_110
		trigger = {
			event_target:contact_empire = {
				is_country_type = awakened_fallen_empire
				is_fanatic_spiritualist = yes
			}
			OR = {
				has_origin = origin_cybernetic_creed
				is_individual_machine = yes
			}
		}
	}

	# Lost Colony Greetings (Generic)
	desc = {
		text = "action.1.desc_82"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				has_country_flag = special_intro_for@root
				has_country_flag = lost_colony_parent_of@root
				has_generic_government = yes
				NOR = {
					has_country_flag = human_1
					has_country_flag = human_2
				}
			}
			has_origin = origin_lost_colony
			is_individual_machine = no
		}
	}

	# Lost Colony Greetings (Spiritualist)
	desc = {
		text = "action.1.desc_83"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				has_country_flag = special_intro_for@root
				has_country_flag = lost_colony_parent_of@root
				has_spiritualist_government = yes
				NOR = {
					has_country_flag = human_1
					has_country_flag = human_2
				}
			}
			has_origin = origin_lost_colony
			is_individual_machine = no
		}
	}

	# Lost Colony Greetings (Militarist)
	desc = {
		text = "action.1.desc_84"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				has_country_flag = special_intro_for@root
				has_country_flag = lost_colony_parent_of@root
				has_militarist_government = yes
				NOR = {
					has_country_flag = human_1
					has_country_flag = human_2
				}
			}
			has_origin = origin_lost_colony
			is_individual_machine = no
		}
	}

	# Lost Colony Greetings (Pacifist)
	desc = {
		text = "action.1.desc_85"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				has_country_flag = special_intro_for@root
				has_country_flag = lost_colony_parent_of@root
				has_pacifist_government = yes
				NOR = {
					has_country_flag = human_1
					has_country_flag = human_2
				}
			}
			has_origin = origin_lost_colony
			is_individual_machine = no
		}
	}

	# Lost Colony Greetings (Materialist)
	desc = {
		text = "action.1.desc_86"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				has_country_flag = special_intro_for@root
				has_country_flag = lost_colony_parent_of@root
				has_materialist_government = yes
				NOR = {
					has_country_flag = human_1
					has_country_flag = human_2
				}
			}
			has_origin = origin_lost_colony
			is_individual_machine = no
		}
	}

	# Lost Colony Greetings (MegaCorp)
	desc = {
		text = "action.1.desc_87"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				has_country_flag = special_intro_for@root
				has_country_flag = lost_colony_parent_of@root
				is_megacorp = yes
				NOR = {
					has_country_flag = human_1
					has_country_flag = human_2
				}
			}
			has_origin = origin_lost_colony
			is_individual_machine = no
		}
	}

	# Lost Colony Greetings (Purifiers)
	desc = {
		text = "action.1.desc_88"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				has_country_flag = special_intro_for@root
				has_country_flag = lost_colony_parent_of@root
				has_valid_civic = civic_fanatic_purifiers
				NOR = {
					has_country_flag = human_1
					has_country_flag = human_2
				}
			}
			has_origin = origin_lost_colony
		}
	}

	# UNE to CoM
	desc = {
		text = "action.1.desc_89"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				has_country_flag = special_intro_for@root
				#has_country_flag = lost_colony_parent_of@root
				has_country_flag = human_1
			}
			has_country_flag = human_2
			has_origin = origin_lost_colony
		}
	}

	# CoM to UNE
	desc = {
		text = "action.1.desc_90"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				has_country_flag = special_intro_for@root
				has_country_flag = human_2
			}
			has_country_flag = human_1
		}
	}

	# MSI to Payback
	desc = {
		text = "action.1.desc_91"
		trigger = {
			first_contact_custom_greeting = yes
			NOT = { is_same_species = event_target:contact_empire }
			has_origin = origin_payback
			event_target:contact_empire = {
				is_country_type = default
				has_origin = origin_slavers
				has_country_flag = special_intro_for@root
			}
		}
	}

	# MSI to Broken Shackles
	desc = {
		text = "action.1.desc_92"
		trigger = {
			first_contact_custom_greeting = yes
			NOT = { is_same_species = event_target:contact_empire }
			has_origin = origin_broken_shackles
			event_target:contact_empire = {
				is_country_type = default
				has_origin = origin_slavers
				has_country_flag = special_intro_for@root
			}
		}
	}

	# MSI to other empires
	desc = {
		text = "action.1.desc_93"
		trigger = {
			first_contact_custom_greeting = yes
			NOR = {
				is_same_species = event_target:contact_empire
				has_slave_origin = yes
			}
			event_target:contact_empire = {
				is_country_type = default
				has_origin = origin_slavers
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# Lost Colony Greetings (Hive)
	desc = {
		text = "action.1.desc_94"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				is_country_type = default
				is_hive_empire = yes
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
				has_country_flag = special_intro_for@root
				has_country_flag = lost_colony_parent_of@root
			}
			has_origin = origin_lost_colony
			is_hive_empire = yes
		}
	}

	# Lost Colony Greetings (Devouring Swarm)
	desc = {
		text = "action.1.desc_95"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				is_country_type = default
				is_hive_empire = yes
				has_valid_civic = civic_hive_devouring_swarm
				has_country_flag = special_intro_for@root
				has_country_flag = lost_colony_parent_of@root
			}
			has_origin = origin_lost_colony
			is_hive_empire = yes
		}
	}

	# Lost Colony Greetings (Machines)
	desc = {
		text = "action.1.desc_96"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				is_country_type = default
				is_machine_empire = yes
				NOT = { has_valid_civic = civic_machine_terminator }
				has_country_flag = special_intro_for@root
				has_country_flag = lost_colony_parent_of@root
				NOR = {
					has_country_flag = human_1
					has_country_flag = human_2
				}
			}
			has_origin = origin_lost_colony
			is_machine_empire = yes
		}
	}

	# Lost Colony Greetings (Exterminators)
	desc = {
		text = "action.1.desc_97"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				is_country_type = default
				is_machine_empire = yes
				has_valid_civic = civic_machine_terminator
				has_country_flag = special_intro_for@root
				has_country_flag = lost_colony_parent_of@root
				NOR = {
					has_country_flag = human_1
					has_country_flag = human_2
				}
			}
			has_origin = origin_lost_colony
			is_machine_empire = yes
		}
	}

	# Lost Colony Greetings (Assimilators)
	desc = {
		text = "action.1.desc_98"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				is_country_type = default
				is_machine_empire = yes
				has_valid_civic = civic_machine_assimilator
				has_country_flag = special_intro_for@root
				has_country_flag = lost_colony_parent_of@root
				NOR = {
					has_country_flag = human_1
					has_country_flag = human_2
				}
			}
			has_origin = origin_lost_colony
			is_machine_empire = yes
		}
	}

	# Lost Colony Greetings (Individualistic Machines)
	desc = {
		text = "action.1.desc_101"
		trigger = {
			first_contact_custom_greeting = no
			event_target:contact_empire = {
				is_country_type = default
				is_individual_machine = yes
				has_country_flag = special_intro_for@root
				has_country_flag = lost_colony_parent_of@root
				NOR = {
					has_country_flag = human_1
					has_country_flag = human_2
				}
			}
			has_origin = origin_lost_colony
			is_individual_machine = yes
		}
	}

	# FTP to UNE
	desc = {
		text = "action.1.desc_99"
		trigger = {
			first_contact_custom_greeting = yes
			event_target:contact_empire = {
				has_country_flag = human_lithoid
				species_portrait = lith_human
			}
			has_country_flag = human_1
		}
	}

	# UNE to FTP
	desc = {
		text = "action.1.desc_100"
		trigger = {
			first_contact_custom_greeting = yes
			event_target:contact_empire = {
				has_country_flag = human_1
			}
			has_country_flag = human_lithoid
			species_portrait = lith_human
		}
	}

	diplomatic = yes
	is_triggered_only = yes

	trigger = {
		is_ai = no
		event_target:contact_empire = {
			NOR = {
				is_tiyanki_country_type = yes
				is_country_type = neutral_faction
				is_country_type = faction
				is_country_type = pirate
				#is_country_type = nomad #triggered in a special case event
				is_amoeba_country_type = yes
				is_drone_country_type = yes
				is_crystal_country_type = yes
				is_country_type = cloud
				is_country_type = enclave
				has_relation_flag = { flag = AbandonedRefugees who = root }
				has_country_flag = second_hive_fe_fragment
				has_country_flag = third_hive_fe_fragment
			}
		}
	}

	# Spiritualist to IM
	desc = {
		text = "action.1.desc_102"
		trigger = {
			first_contact_custom_greeting = no
			is_individual_machine = yes
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_fanatic_spiritualist = yes
				is_individual_machine = no
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# Spiritualists to spiritualist IM
	desc = {
		text = "action.1.desc_103"
		trigger = {
			first_contact_custom_greeting = no
			is_spiritualist = yes
			is_individual_machine = yes
			NOT = { is_same_species = event_target:contact_empire }
			event_target:contact_empire = {
				is_country_type = default
				is_fanatic_spiritualist = yes
				is_individual_machine = no
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# Machine Empires to IM
	desc = {
		text = "action.1.desc_104"
		trigger = {
			first_contact_custom_greeting = no
			is_individual_machine = yes
			event_target:contact_empire = {
				is_country_type = default
				is_machine_empire = yes
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# IM to Machine Empires
	desc = {
		text = "action.1.desc_105"
		trigger = {
			first_contact_custom_greeting = no
			is_machine_empire = yes
			event_target:contact_empire = {
				is_country_type = default
				is_individual_machine = yes
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	# IM to IM
	desc = {
		text = "action.1.desc_106"
		trigger = {
			first_contact_custom_greeting = no
			is_individual_machine = yes
			event_target:contact_empire = {
				is_country_type = default
				is_individual_machine = yes
				NOT = { has_country_flag = special_intro_for@root }
			}
		}
	}

	immediate = {
		if = {
			limit = { event_target:contact_empire = { is_country_type = default } }
			country_event = { id = tutorial.2006 } #"First Contact Established" (regular version)
		}
		else = {
			country_event = { id = tutorial.2007 } #"First Contact Established" (Marauder/FE version)
		}
		country_event = { id = anomaly.4016 }
		event_target:contact_empire = {
			save_event_target_as = contact_speaker
		}
		if = {
			limit = {
				event_target:contact_empire = {
					has_origin = origin_fallen_empire_hive
				}
			}
			establish_communications_no_message = event_target:fallen_empire_hive_war
			establish_communications_no_message = event_target:fallen_empire_hive_growth
			establish_communications_no_message = event_target:fallen_empire_hive_control
			if = {
				limit = {
					event_target:contact_empire = {
						has_country_flag = fallen_empire_hive_war
					}
				}
				set_country_flag = fe_hive_growth_second
				set_country_flag = fe_hive_control_third
			}
			else_if = {
				limit = {
					event_target:contact_empire = {
						has_country_flag = fallen_empire_hive_growth
					}
				}
				set_country_flag = fe_hive_war_second
				set_country_flag = fe_hive_control_third
			}
			else = {
				set_country_flag = fe_hive_war_second
				set_country_flag = fe_hive_growth_third
			}
		}
	}

	# For the event options:
	#	- Note 1: If multiple of the triggered option names return true, it'll pick a random one among those that are available.
	#	- Note 2: If none of them return true, it will pick the first one in the list. So it should be something suitably generic.

	option = { #friendly
		name = {
			text = action.1.selective
			trigger = {
				has_valid_civic = civic_selective_kinship
				event_target:contact_empire = {
					is_same_species_class = root
				}
			}
		}
		name = {
			text = action.1.u4
			exclusive_trigger = {
				has_slave_origin = yes
				event_target:contact_empire = { has_origin = origin_slavers }
			}
		}
		name = {
			text = action.1.e
			trigger = {
				NOT = { is_same_species = event_target:contact_empire }
				is_xenophile = yes
			}
		}
		name = {
			text = action.1.c
			trigger = {
				NOT = { is_same_species = event_target:contact_empire }
				is_xenophile = yes
			}
		}
		name = {
			text = action.1.h
			trigger = {
				is_egalitarian = yes
			}
		}
		name = {
			text = action.1.n
			trigger = {
				is_spiritualist = yes
				event_target:contact_empire = {
					NOR = {
						is_machine_empire = yes
						is_individual_machine = yes
					}
				}
			}
		}
		name = {
			text = action.1.ag
			trigger = {
				is_materialist = yes
			}
		}
		name = {
			text = action.1.ah
			trigger = {
				is_xenophile = yes
			}
		}
		name = {
			text = action.1.ai
			trigger = {
				is_xenophile = yes
				is_egalitarian = yes
			}
		}
		name = {
			text = action.1.aj
			trigger = {
				is_xenophile = yes
				is_authoritarian = yes
			}
		}
		name = {
			text = action.1.ak
			trigger = {
				OR = {
					is_xenophile = yes
					is_militarist = yes
				}
			}
		}
		name = {
			text = action.1.al
			trigger = {
				is_egalitarian = yes
			}
		}
		name = {
			text = action.1.am
			trigger = {
				is_spiritualist = yes
				is_individual_machine = no
			}
		}
		name = {
			text = action.1.j
			trigger = {
				is_militarist = yes
			}
		}
		name = {
			text = action.1.l
			trigger = {
				is_pacifist = yes
			}
		}
		name = {
			text = action.1.p
			trigger = {
				is_materialist = yes
			}
		}
		name = {
			text = action.1.av
			trigger = {
				is_spiritualist = yes
			}
		}
		name = {
			text = action.1.aag
			trigger = {
				has_origin = origin_lost_colony
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_country_flag = lost_colony_parent_of@root
				}
			}
		}
		name = {
			text = action.1.aah
			exclusive_trigger = {
				has_origin = origin_lost_colony
				is_hive_empire = yes
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_country_flag = lost_colony_parent_of@root
				}
			}
		}
		name = {
			text = action.1.aai
			exclusive_trigger = {
				has_origin = origin_lost_colony
				is_machine_empire = yes
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_country_flag = lost_colony_parent_of@root
				}
			}
		}
		name = {
			text = action.1.aam
			exclusive_trigger = {
				has_origin = origin_lost_colony
				is_individual_machine = yes
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_country_flag = lost_colony_parent_of@root
				}
			}
		}
		name = {
			text = action.1.hm
			trigger = {
				is_hive_empire = yes
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
			}
		}
		name = {
			text = action.1.me
			trigger = {
				is_machine_empire = yes
				NOT = { has_valid_civic = civic_machine_terminator }
			}
		}
		name = {
			text = action.1.mtm
			trigger = {
				has_valid_civic = civic_machine_terminator
				event_target:contact_empire = {
					OR = {
						is_individual_machine = yes
						is_machine_empire = yes
					}
				}
			}
		}
		name = {
			text = action.1.o
			trigger = {
				is_spiritualist = yes
				event_target:contact_empire = {
					NOR = {
						is_individual_machine = yes
						is_machine_empire = yes
					}
				}
			}
		}
		name = {
			text = action.1.as
			trigger = {
				is_pacifist = yes
			}
		}
		name = {
			text = action.1.af
			trigger = {
				is_xenophobe = yes
				is_individual_machine = no
			}
		}
		name = {
			text = action.1.va
			exclusive_trigger = {
				has_origin = origin_payback
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_origin = origin_slavers
				}
			}
		}
		name = {
			text = action.1.vd
			exclusive_trigger = {
				has_origin = origin_broken_shackles
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_origin = origin_slavers
				}
			}
		}
		name = { # IM, spiritualist
			text = action.1.xa
			trigger = {
				is_spiritualist = no
				is_individual_machine = yes
				event_target:contact_empire = {
					is_spiritualist = yes
					is_individual_machine = no
				}
			}
		}
		name = { # Spiritualist, spiritualist IM
			text = action.1.xb
			trigger = {
				is_spiritualist = yes
				is_individual_machine = no
				event_target:contact_empire = {
					is_spiritualist = yes
					is_individual_machine = yes
				}
			}
		}
		name = { # IM, machine empire
			text = action.1.xd
			trigger = {
				is_individual_machine = yes
				event_target:contact_empire = {
					OR = {
						is_machine_empire = yes
						is_individual_machine = yes
					}
				}
			}
		}

		icon = {
			icon = GFX_option_icon_friendly
			text = seek_friends_tt
		}

		allow = {
			custom_tooltip_fail = {
				text = friendship_already_precluded
				event_target:contact_empire = {
					NOR = {
						has_opinion_modifier = {
							who = root
							modifier = opinion_caught_hacking
						}
						has_opinion_modifier = {
							who = root
							modifier = opinion_hostile_first_contact
						}
						has_opinion_modifier = {
							who = root
							modifier = opinion_hostile_first_contact_vivisection
						}
						has_opinion_modifier = {
							who = root
							modifier = opinion_hostile_first_contact_hungry
						}
						AND = {
							has_origin = origin_slavers
							has_country_flag = special_intro_for@root
						}
					}
				}
			}
		}

		if = {
			limit = {
				OR = {
					NOT = { is_country_type = default }
					event_target:contact_empire = { is_country_type = fallen_empire }
				}
			}
			custom_tooltip = action.1.fe_option
		}
		else = {
			custom_tooltip = seek_friends_tt

			event_target:contact_empire = {
				add_opinion_modifier = {
					who = root
					modifier = opinion_friendly_first_comms_greeting
				}
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = human_1
					has_country_flag = human_lithoid
				}
				event_target:contact_empire = {
					OR = {
						has_country_flag = human_1
						has_country_flag = human_lithoid
					}
				}
			}
			event_target:contact_empire = {
				add_opinion_modifier = {
					who = root
					modifier = opinion_pre_hadean_relations
				}
			}
		}

		trigger = {
			OR = {
				AND = {
					has_modifier = preftl_action_trade_pact_msi
					event_target:contact_empire = {
						has_origin = origin_slavers
					}
				}
				AND = {
					OR = {
						is_homicidal = no
						AND = {
							has_valid_civic = civic_machine_terminator
							event_target:contact_empire = {
								OR = {
									is_individual_machine = yes
									is_machine_empire = yes
								}
							}
						}
					}
					NAND = {
						has_valid_civic = civic_selective_kinship
						event_target:contact_empire = { NOT = { is_same_species_class = root } }
					}
					NOT = { has_valid_civic = civic_inwards_perfection }
					NAND = {
						is_fanatic_spiritualist = yes
						event_target:contact_empire = {
							OR = {
								is_machine_empire = yes
								AND = {
									is_individual_machine = yes
									is_spiritualist = no
								}
							}
						}
					}
					OR = {
						is_fanatic_xenophobe = no
						event_target:contact_empire = { is_same_species = root }
						AND = {
							has_valid_civic = civic_selective_kinship
							event_target:contact_empire = { is_same_species_class = root.species }
						}
					}
				}
			}
		}

		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				is_xenophile = yes
			}
			modifier = {
				factor = 0.5
				OR = {
					is_xenophobe = yes
					is_gestalt = yes
				}
			}
			modifier = {
				factor = 4 #actually *2 as it is multiplied by *0.5 in the above modifier
				OR = {
					AND = {
						is_machine_empire = yes
						event_target:contact_empire = { is_machine_empire = yes }
					}
					AND = {
						is_hive_empire = yes
						event_target:contact_empire = { is_hive_empire = yes }
					}
				}
			}
			modifier = {
				factor = 0.1
				first_contact_custom_greeting = yes #basically, various hostility
			}
		}
	}
	option = { #hostile - isolationist
		name = {
			text = action.1.u5
			exclusive_trigger = {
				has_slave_origin = yes
				event_target:contact_empire = { has_origin = origin_slavers }
			}
		}
		name = {
			text = action.1.ac
			trigger = {
				is_xenophobe = yes
			}
		}
		name = {
			text = action.1.aab
			trigger = {
				OR = {
					is_xenophobe = yes
					is_materialist = yes
				}
				NOT = { is_same_species = event_target:contact_empire }
			}
		}
		name = {
			text = action.1.ad
			trigger = {
				is_authoritarian = yes
			}
		}
		name = {
			text = action.1.d
			trigger = {
				NOT = { is_same_species = event_target:contact_empire }
				is_xenophobe = yes
			}
		}
		name = {
			text = action.1.i
			trigger = {
				is_egalitarian = yes
			}
		}
		name = {
			text = action.1.m
			trigger = {
				is_pacifist = yes
			}
		}
		name = {
			text = action.1.r
			trigger = {
				is_spiritualist = yes
				event_target:contact_empire = {
					OR = {
						is_machine_empire = yes
						is_individual_machine = yes
					}
				}
			}
		}
		name = {
			text = action.1.aa
			trigger = {
				is_materialist = yes
			}
		}
		name = {
			text = action.1.ao
			trigger = {
				is_militarist = yes
			}
		}
		name = {
			text = action.1.aaa
			trigger = {
				is_authoritarian = yes
			}
		}
		name = {
			text = action.1.aae
			trigger = {
				is_authoritarian = yes
			}
		}
		name = {
			text = action.1.t1
			trigger = {
				is_xenophile = yes
			}
		}
		name = {
			text = action.1.t2
			trigger = {
				is_spiritualist = yes
			}
		}
		name = {
			text = action.1.t3
			trigger = {
				is_hive_empire = yes
			}
		}
		name = {
			text = action.1.t4
			trigger = {
				is_machine_empire = yes
				NOR = {
					has_valid_civic = civic_machine_assimilator
					has_valid_civic = civic_machine_terminator
				}
			}
		}
		name = {
			text = action.1.t5
			trigger = {
				has_valid_civic = civic_machine_assimilator
			}
		}
		name = {
			text = action.1.t6
			trigger = {
				has_valid_civic = civic_machine_terminator
			}
		}
		name = {
			text = action.1.vb
			exclusive_trigger = {
				has_origin = origin_payback
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_origin = origin_slavers
				}
			}
		}
		name = {
			text = action.1.ve
			exclusive_trigger = {
				has_origin = origin_broken_shackles
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_origin = origin_slavers
				}
			}
		}
		name = {
			text = action.1.aak
			exclusive_trigger = {
				has_origin = origin_lost_colony
				is_gestalt = yes
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_country_flag = lost_colony_parent_of@root
				}
			}
		}
		name = {
			text = action.1.aan
			exclusive_trigger = {
				has_origin = origin_lost_colony
				is_individual_machine = yes
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_country_flag = lost_colony_parent_of@root
				}
			}
		}
		name = { # Spiritualist empire, IM
			text = action.1.xc
			trigger = {
				is_spiritualist = yes
				event_target:contact_empire = {
					is_individual_machine = yes
				}
			}
		}
		name = { # Machine empire, IM
			text = action.1.xe
			trigger = {
				is_machine_empire = yes
				event_target:contact_empire = {
					is_individual_machine = yes
				}
			}
		}

		icon = {
			icon = GFX_option_icon_isolationist
			text = seek_isolation_tt_short
		}

		if = {
			limit = {
				OR = {
					NOT = { is_country_type = default }
					event_target:contact_empire = { NOT = { is_country_type = default } }
				}
			}
			custom_tooltip = action.1.fe_option
		}
		else = {
			custom_tooltip = seek_isolation_tt

			hidden_effect = {
				event_target:contact_empire = {
					random_spynetwork = {
						limit = { target = { is_same_value = root } }
						add_modifier = {
							modifier = first_comms_defensive
							years = 15
						}
					}
				}
			}
		}
		
		trigger = {
			NOT = {
				has_modifier = preftl_action_trade_pact_msi
				event_target:contact_empire = {
					has_origin = origin_slavers
				}
			}
		}

		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				is_xenophobe = yes
				is_militarist = no
			}
			modifier = {
				factor = 2
				has_valid_civic = civic_inwards_perfection
			}
		}
	}
	option = { #hostile - expansionist
		name = {
			text = action.1.u6
			exclusive_trigger = {
				has_slave_origin = yes
				event_target:contact_empire = { has_origin = origin_slavers }
			}
		}
		name = {
			text = action.1.ae
			trigger = {
				OR = {
					is_xenophobe = yes
					is_militarist = yes
				}
			}
		}
		name = {
			text = action.1.ds
			trigger = {
				has_valid_civic = civic_hive_devouring_swarm
			}
		}
		name = {
			text = action.1.mt
			trigger = {
				is_machine_empire = yes
			}
		}
		name = {
			text = action.1.aac
			trigger = {
				is_militarist = yes
				OR = {
					is_spiritualist = yes
					is_authoritarian = yes
				}
			}
		}
		name = {
			text = action.1.aad
			trigger = {
				is_spiritualist = yes
				NOT = { is_same_species = event_target:contact_empire }
			}
		}
		name = {
			text = action.1.b
			trigger = {
				NOT = { is_same_species = event_target:contact_empire }
				is_xenophobe = yes
			}
		}
		name = {
			text = action.1.s
			trigger = {
				is_spiritualist = yes
				event_target:contact_empire = {
					OR = {
						is_machine_empire = yes
						is_individual_machine = yes
					}
				}
			}
		}
		name = {
			text = action.1.ab
			trigger = {
				is_spiritualist = yes
				NOT = { is_same_species = event_target:contact_empire }
			}
		}
		name = {
			text = action.1.an
			trigger = {
				is_militarist = yes
			}
		}
		name = {
			text = action.1.at
			trigger = {
				is_militarist = yes
			}
		}
		name = {
			text = action.1.au
			trigger = {
				is_spiritualist = yes
				is_militarist = yes
			}
		}
		name = {
			text = action.1.k
			trigger = {
				OR = {
					is_militarist = yes
					is_authoritarian = yes
				}
			}
		}
		name = {
			text = action.1.ax
			trigger = {
				OR = {
					is_materialist = yes
					is_egalitarian = yes
					is_pacifist = yes
				}
			}
		}
		name = {
			text = action.1.u1
			trigger = {
				is_xenophile = yes
			}
		}
		name = {
			text = action.1.u2
			trigger = {
				is_authoritarian = yes
			}
		}
		name = {
			text = action.1.u3
			trigger = {
				is_gestalt = yes
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
			}
		}
		name = {
			text = action.1.vc
			exclusive_trigger = {
				has_origin = origin_payback
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_origin = origin_slavers
				}
			}
		}
		name = {
			text = action.1.vf
			exclusive_trigger = {
				has_origin = origin_broken_shackles
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_origin = origin_slavers
				}
			}
		}
		name = {
			text = action.1.aaj
			exclusive_trigger = {
				has_origin = origin_lost_colony
				is_hive_empire = yes
				has_valid_civic = civic_hive_devouring_swarm
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_country_flag = lost_colony_parent_of@root
					has_valid_civic = civic_hive_devouring_swarm
				}
			}
		}
		name = {
			text = action.1.aal
			exclusive_trigger = {
				has_origin = origin_lost_colony
				is_gestalt = yes
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_country_flag = lost_colony_parent_of@root
				}
			}
		}
		name = {
			text = action.1.aao
			exclusive_trigger = {
				has_origin = origin_lost_colony
				is_individual_machine = yes
				event_target:contact_empire = {
					has_country_flag = special_intro_for@root
					has_country_flag = lost_colony_parent_of@root
				}
			}
		}
		name = { # Machine empire, IM
			text = action.1.xf
			trigger = {
				is_machine_empire = yes
				event_target:contact_empire = {
					is_individual_machine = yes
				}
			}
		}
		name = { # IM, machine empire
			text = action.1.xg
			trigger = {
				is_individual_machine = yes
				event_target:contact_empire = {
					is_machine_empire = yes
				}
			}
		}

		icon = {
			icon = GFX_option_icon_hostile
			text = seek_enemies_tt_short
		}

		if = {
			limit = {
				OR = {
					NOT = { is_country_type = default }
					event_target:contact_empire = { NOT = { is_country_type = default } }
				}
			}
			custom_tooltip = action.1.fe_option
		}
		else = {
			custom_tooltip = seek_enemies_tt

			event_target:contact_empire = {
				add_opinion_modifier = {
					who = root
					modifier = opinion_hostile_first_comms_greeting
				}
			}
			hidden_effect = {
				random_spynetwork = {
					limit = {
						owner = { is_same_value = root }
						target = { is_same_value = event_target:contact_empire }
					}
					add_modifier = {
						modifier = first_comms_hostility_preparations
						years = 15
					}
				}
			}
		}

		trigger = {
			NOR = {
				is_fanatic_pacifist = yes
				has_valid_civic = civic_inwards_perfection
				AND = {
					has_modifier = preftl_action_trade_pact_msi
					event_target:contact_empire = {
						has_origin = origin_slavers
					}
				}
			}
		}

		ai_chance = {
			factor = 1
			modifier = {
				factor = 100
				is_homicidal = yes
			}
			modifier = {
				factor = 2
				is_militarist = yes
			}
			modifier = {
				factor = 0.5
				is_pacifist = yes
			}
			modifier = {
				factor = 2
				first_contact_custom_greeting = yes #basically, various hostility
			}
			modifier = {
				factor = 0.1
				is_in_federation_with = event_target:contact_empire #just in case
			}
		}
	}

	after = {
		if = {
			limit = {
				NOT = {
					event_target:contact_empire = { has_relation_flag = { flag = no_coms who = root } }
				}
			}
			hidden_effect = {
				country_event = { id = progress.4 }
				country_event = { id = progress.5 }
				country_event = { id = progress.6 }
				country_event = { id = progress.9 } # special event for Payback origin
				#country_event = { id = story.7 days = 30 } REMOVED DUE TO ON_ACTIONS ALSO TRIGGERING THIS, CAUSING SCOPING ISSUES
				if = {
					limit = {
						event_target:contact_empire = {
							OR = {
								is_country_type = fallen_empire
								is_country_type = awakened_fallen_empire
							}
						}
					}
					set_country_flag = Story7
					set_country_flag = has_encountered_other_empire
					if = {
						limit = { NOT = { has_country_flag = StoryFirst } }
						set_country_flag = StoryFirst
					}
				}
			}
		}
	}
}


### First Contact Diplomatic Message - pre-FTL version
country_event = {
	id = action.2
	title = action.1.name
	message_desc = action.1.message
	location = event_target:contact_empire.capital_scope

	picture_event_data = {
		portrait = event_target:contact_empire
		planet_background = event_target:contact_empire
		graphical_culture = event_target:contact_empire
		city_level = event_target:contact_empire
		room = event_target:contact_empire.ruler
	}

	### Custom First Contact system flavour
	desc = {
		text = action.2.desc_01
		trigger = {
			event_target:contact_empire = {
				is_primitive = yes
				current_awareness_level = none
				has_special_pre_ftl_diplo = no
			}
		}
	}
	desc = {
		text = action.2.desc_02
		trigger = {
			event_target:contact_empire = {
				is_primitive = yes
				current_awareness_level = low
				has_special_pre_ftl_diplo = no
			}
		}
	}
	desc = {
		text = action.2.desc_03
		trigger = {
			event_target:contact_empire = {
				is_primitive = yes
				current_awareness_level = medium
				has_special_pre_ftl_diplo = no
			}
		}
	}
	desc = {
		text = action.2.desc_04
		trigger = {
			event_target:contact_empire = {
				is_primitive = yes
				current_awareness_level = high
				has_special_pre_ftl_diplo = no
			}
		}
	}
	desc = {
		text = action.2.desc_05
		trigger = {
			event_target:contact_empire = {
				is_primitive = yes
				current_awareness_level = full
				NOR = { has_country_flag = pre_ftl_initiating_contact has_special_pre_ftl_diplo = yes }
			}
		}
	}
	desc = {
		text = action.2.desc_06
		trigger = {
			event_target:contact_empire = {
				is_primitive = yes
				current_awareness_level = full
				has_country_flag = pre_ftl_initiating_contact
				has_special_pre_ftl_diplo = no
			}
		}
	}
	desc = {
		text = action.2.desc_solarpunk
		trigger = {
			event_target:contact_empire = {
				is_primitive = yes
				has_special_pre_ftl_diplo = yes
				has_country_flag = solarpunk_country
			}
		}
	}
	desc = {
		text = action.2.desc_07
		exclusive_trigger = {
			event_target:contact_empire = {
				is_primitive = yes
				current_awareness_level = full
				has_country_flag = pre_ftl_being_invaded
			}
		}
	}

	diplomatic = yes
	is_triggered_only = yes

	trigger = {
		is_ai = no
		event_target:contact_empire = {
			is_primitive = yes
		}
	}

	immediate = {
		country_event = { id = tutorial.2150 } # "First Contact Established" (pre-FTL version)
		event_target:contact_empire = {
			save_event_target_as = contact_speaker
		}
	}

	# For the event options:
	#	- Note 1: If multiple of the triggered option names return true, it'll pick a random one among those that are available.
	#	- Note 2: If none of them return true, it will pick the first one in the list. So it should be something suitably generic.
	
	############################## FRIENDLY ##############################
	
	option = { # xenophile
		name = action.2.a

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			is_xenophile = yes
		}
	}

	option = { # xenophobe
		name = action.2.b

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			is_xenophobe = yes
		}
	}

	option = { # spiritualist
		name = action.2.c

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			is_spiritualist = yes
		}
	}

	option = { # materialist
		name = action.2.d

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			is_materialist = yes
		}
	}

	option = { # militarist
		name = action.2.e

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			is_militarist = yes
		}
	}

	option = { # pacifist
		name = action.2.f

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			is_pacifist = yes
		}
	}

	option = { # egalitarian
		name = action.2.g

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			is_egalitarian = yes
		}
	}

	option = { # authoritarian
		name = action.2.h

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			is_authoritarian = yes
		}
	}

	option = { # gestalt
		name = action.2.i

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			is_gestalt = yes
		}
	}

	option = { # Gestalt meeting other gestalt
		name = action.2.j

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			is_gestalt = yes
			event_target:contact_empire = {
				is_gestalt = yes
			}
		}
	}

	option = { # megacorp
		name = action.2.k

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			is_megacorp = yes
		}
	}
	
	option = { # cooperative
		name = action.2.cooperative

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			OR = {
				has_ethic = ethic_socialism
				has_ethic = ethic_fanatic_socialism
			}
		}
	}
	
	option = { # competitive
		name = action.2.competitive

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			OR = {
				has_ethic = ethic_capitalism
				has_ethic = ethic_fanatic_capitalism
			}
		}
	}
	
	option = { # industrialist
		name = action.2.industrialist

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			OR = {
				has_ethic = ethic_industrial
				has_ethic = ethic_fanatic_industrial
			}
		}
	}
	
	option = { # ecocentrist
		name = action.2.ecocentrist

		trigger = {
			event_target:contact_empire = { NOT = { has_country_flag = pre_ftl_being_invaded } }
			OR = {
				has_ethic = ethic_green
				has_ethic = ethic_fanatic_green
			}
		}
	}
	
	############################## INVADING ##############################
	
	option = { # civic_barbaric_despoilers
		name = action.2.civic_barbaric_despoilers.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			OR = {
				owner = { has_ascension_perk = ap_nihilistic_acquisition }
				owner = { has_valid_civic = civic_barbaric_despoilers }
				owner = { has_valid_civic = civic_barbaric_despoilers_corporate }
				owner = { has_origin = origin_slavers }
				owner = { has_origin = origin_khan_successor }
				owner = { is_country_type = debt_collectors }
				#AND = {
				#	owner = { is_country_type = enclave_mercenary }
				#	owner = {
				#		OR = {
				#			has_ascension_perk = ap_nihilistic_acquisition
				#			has_valid_civic = civic_barbaric_despoilers
				#			has_valid_civic = civic_barbaric_despoilers_corporate
				#			has_origin = origin_slavers
				#			has_origin = origin_khan_successor
				#		}
				#	}
				#}
			}
		}
		
		event_target:contact_empire = {
			capital_scope = {
				every_fleet_in_orbit = {
					limit = { is_owned_by = ROOT }
					set_fleet_bombardment_stance = raiding
				}
			}
		}
		
		custom_tooltip = action.2.civic_barbaric_despoilers.invade.tooltip
		
		 ai_chance = {
			factor = 1000
		}
	}
	
	option = { # xenophile
		name = action.2.a.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			is_xenophile = yes
		}
	}

	option = { # xenophobe
		name = action.2.b.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			is_xenophobe = yes
		}
	}

	option = { # spiritualist
		name = action.2.c.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			is_spiritualist = yes
		}
	}

	option = { # materialist
		name = action.2.d.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			is_materialist = yes
		}
	}

	option = { # militarist
		name = action.2.e.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			is_militarist = yes
		}
	}

	option = { # pacifist
		name = action.2.f.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			is_pacifist = yes
		}
	}

	option = { # egalitarian
		name = action.2.g.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			is_egalitarian = yes
		}
	}

	option = { # authoritarian
		name = action.2.h.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			is_authoritarian = yes
		}
	}

	option = { # gestalt
		name = action.2.i.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			is_gestalt = yes
		}
	}

	option = { # Gestalt meeting other gestalt
		name = action.2.j.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			is_gestalt = yes
			event_target:contact_empire = {
				is_gestalt = yes
			}
		}
	}

	option = { # megacorp
		name = action.2.k.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			is_megacorp = yes
		}
	}
	
	option = { # cooperative
		name = action.2.cooperative.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			OR = {
				has_ethic = ethic_socialism
				has_ethic = ethic_fanatic_socialism
			}
		}
	}
	
	option = { # competitive
		name = action.2.competitive.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			OR = {
				has_ethic = ethic_capitalism
				has_ethic = ethic_fanatic_capitalism
			}
		}
	}
	
	option = { # industrialist
		name = action.2.industrialist.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			OR = {
				has_ethic = ethic_industrial
				has_ethic = ethic_fanatic_industrial
			}
		}
	}
	
	option = { # ecocentrist
		name = action.2.ecocentrist.invade

		trigger = {
			event_target:contact_empire = { has_country_flag = pre_ftl_being_invaded }
			OR = {
				has_ethic = ethic_green
				has_ethic = ethic_fanatic_green
			}
		}
	}

	after = {
		add_intel = {
			who = event_target:contact_empire
			amount = 100
		}
		if = {
			limit = {
				NOT = {
					event_target:contact_empire = { has_relation_flag = { flag = no_coms who = root } }
				}
			}
			hidden_effect = {
				country_event = { id = progress.4 }
				country_event = { id = progress.5 }
				country_event = { id = progress.6 }
				country_event = { id = progress.9 } # Special event for Payback origin
			}
		}
		if = {
			limit = {
				event_target:contact_empire = {
					is_primitive = yes
				}
			}
			event_target:contact_empire = {
				if = {
					limit = { 
						is_country_type = primitive
						NOT = { current_awareness_level = full }
					}
					set_awareness = 100
				}
				else_if = {
					limit = { any_situation = { is_situation_type = PrimPlayer_awareness_situation situation_progress < 100 } }
					random_situation = { limit = { is_situation_type = PrimPlayer_awareness_situation } add_situation_progress = 100 }
				}
			}
		}
	}
}

################################
#
# First Contact DLC Events
#
################################

# Upgrading Research Labs --> To the Stars Once More!
country_event = {
	id =  origin.5500
	title = origin.5500.name
	desc = origin.5500.desc
	picture = GFX_evt_physics_research
	show_sound = event_celebration
	is_triggered_only = yes

	trigger = {
		has_origin = origin_broken_shackles
		last_increased_tech = tech_basic_science_lab_1
	}

	option = {
		name = origin.5500.a
		every_system = {
			limit = { 
				OR = {
					has_star_flag = PrimPlayer_broken_shackle_primitive_system_flag 
					any_system_planet = { 
						has_owner = yes
						owner = { has_civic = PrimPlayer_civic_the_obelisk }
					}
				}
				
			}
			root = { set_visited = prev }
		}
		random_system = {
			limit = { 
				any_system_planet = { 
					has_owner = yes
					owner = { has_origin = origin_payback }
					is_capital = yes
				}
			}
			root = { set_visited = prev }
		}
		custom_tooltip = origin.5500.tt
		give_technology = { tech = tech_hyper_drive_theory message = yes }
		hidden_effect = {
			capital_scope = {
				if = { 
					limit = { has_active_building = building_low_tech_research_lab }
					remove_building = building_low_tech_research_lab
					add_building = building_research_lab_1
				}
			}
		}
	}
	
	
}

# Upgrading Admin Hub
country_event = {
	id =  origin.5505
	title = origin.5505.name
	desc = origin.5505.desc
	picture = GFX_evt_partition
	show_sound = event_celebration
	is_triggered_only = yes

	trigger = {
		has_origin = origin_broken_shackles
		last_increased_tech = tech_planetary_government
	}

	option = {
		name = origin.5505.option.regular
		trigger = { is_spiritualist = no }
		give_technology = { tech = tech_federation_code message = yes }
		country_event = { id = PrimPlay_situation_event.3 days = 30 }
		custom_tooltip = origin.5505.regular.tt
		hidden_effect = {
			capital_scope = {
				if = { 
					limit = { has_active_building = building_low_tech_admin_hub }
					remove_building = building_low_tech_admin_hub
					add_building = building_bureaucratic_1
				}
			}
		}
	}
	
	option = {
		name = origin.5505.option.spiritualist
		trigger = { is_spiritualist = yes }
		give_technology = { tech = tech_federation_code message = yes }
		country_event = { id = PrimPlay_situation_event.3 days = 30 }
		custom_tooltip = origin.5505.spiritualist.tt
		hidden_effect = {
			capital_scope = {
				if = { 
					limit = { has_active_building = building_low_tech_admin_hub }
					remove_building = building_low_tech_admin_hub
					add_building = building_temple
				}
			}
		}
	}
	
}

ship_event = {
	id = fircon.5010
	title = fircon.5010.name
	desc = fircon.5010.desc
	picture = GFX_evt_vortex
	show_sound = event_mystic_reveal_light
	is_triggered_only = yes

	location = from

	option = {
		name = fircon.5010.a
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
		}
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_global_flag = solarpunk_discovered }
				}
				set_global_flag = solarpunk_discovered
				from.solar_system = {
					spawn_system = {
						min_distance = 5
						max_distance = 8
						max_jumps = 0
						initializer = "solarpunk_02"
					}
					set_star_flag = solarpunk_system_revealed
					last_created_system = {
						random_system_planet = {
							limit = {
								has_planet_flag = solarpunk_capital
							}
							if = {
								limit = {
									NOT = {
										any_galaxy_species = {
											species_portrait = mol7
										}
									}
								}
								create_species = {
									name = "NAME_Habinte"
									plural = "NAME_Habinte_plural"
									adjective = "NAME_Habinte_adj"
									class = MOL
									portrait = mol7
									traits = random
									homeworld = this
								}
							}
							else_if = {
								limit = {
									NOT = {
										any_galaxy_species = {
											species_portrait = fun3
										}
									}
								}
								create_species = {
									name = "NAME_Habinte"
									plural = "NAME_Habinte_plural"
									adjective = "NAME_Habinte_adj"
									class = FUN
									portrait = fun3
									traits = random
									homeworld = this
								}
							}
							else = {
								create_species = {
									name = "NAME_Habinte"
									plural = "NAME_Habinte_plural"
									adjective = "NAME_Habinte_adj"
									class = AVI
									traits = random
									homeworld = this
								}
							}
							create_country = {
								name = "NAME_Habinte_Unified_Worlds"
								authority = random
								civics = {
									civic = civic_life_seeded
									civic = civic_environmentalist
								}
								species = last_created_species
								ethos = {
									ethic = ethic_fanatic_egalitarian
									ethic = ethic_pacifist
									ethic = ethic_socialism # E&CC Compatibility
									ethic = ethic_green # E&CC Compatibility
								}
								flag = random
								origin = "origin_life_seeded_ai_only"
								type = primitive
								effect = {
									set_graphical_culture = solarpunk_01
									set_country_flag = early_space_age
									set_pre_ftl_age = early_space_age
									set_country_flag = solarpunk_country
									set_country_flag = tech_frozen
									save_global_event_target_as = solarpunk_country
								}
							}
							set_owner = last_created_country
							set_capital = yes

							populate_solarpunk_planet = yes
						}
						every_system_planet = {
							limit = {
								has_planet_flag = solarpunk_colony
							}
							populate_solarpunk_planet = yes
						}
					}
				}
			}
		}
	}
	option = {
		name = fircon.5010.b
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
		}
	}
}
###################################################################################################################################################
###################################################################################################################################################
###################################################################################################################################################
###################################################################################################################################################
#########################################										###################################################################
													## Debt Collectors
#########################################										###################################################################
###################################################################################################################################################
###################################################################################################################################################
###################################################################################################################################################
###################################################################################################################################################
# Starting event
country_event = {
	id = primitive_origin.4010
	title = "primitive_origin.4010.name"
	desc = "primitive_origin.4010.desc"
	picture = GFX_evt_enigmatic_cache
	show_sound = event_ancient_drone
	is_triggered_only = yes

	specimen = uplifting_invoice

	trigger = {
		has_civic = PrimPlayer_civic_the_obelisk
		NOT = {
			has_event_chain = "payback_debt_collectors_chain"
		}
	}

	immediate = {
		create_debt_collectors_country = yes
		# When the debt collectors will arrive
		set_saved_date = {
			key = payback_debt_collectors_timer
			days_from_present = 1800
			expires = 3180060
		}
		# How much you owe them
		set_variable = {
			which = debt_collectors_amount
			value = 1481893
		}
		# Number of times they visited you
		set_variable = {
			which = debt_collectors_visits
			value = 1
		}
		# Number of times you defeated them
		set_variable = {
			which = debt_collectors_defeats
			value = 0
		}
	}

	option = {
		name = origin.4010.a
		custom_tooltip = origin.4010.a.tooltip
		begin_event_chain = {
			event_chain = "payback_debt_collectors_chain"
			target = this
		}
	}

	after = {
		hidden_effect = {
			country_event = { id = primitive_origin.4015 days = 1800 }
		}
	}
}

# Debt Collectors arrive (first time)
country_event = {
	id = primitive_origin.4015
	title = "origin.4015.name"
	desc = "origin.4015.desc"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = event_target:debt_collectors_species
		room = ethic_spaceship_room
	}

	trigger = {
		exists = event_target:MSI_country
		has_civic = PrimPlayer_civic_the_obelisk
		has_event_chain = "payback_debt_collectors_chain"
	}

	option = { # Pay
		name = "origin.4015.a"
		hidden_effect = {
			country_event = { id = primitive_origin.4016 }
		}
	}

	option = { # Don't pay
		name = "origin.4015.b"
		hidden_effect = {
			country_event = { id = primitive_origin.4019 }
		}
	}

	option = { # Give me the lore dump
		name = "origin.4015.c"
		response_text = "origin.4015.c.response"
		is_dialog_only = yes
	}
}

# We are willing to settle
country_event = {
	id = primitive_origin.4016
	base = primitive_origin.4015
	desc_clear = yes
	option_clear = yes

	desc = origin.4016.desc

	option = { # pay the full amount
		name = "origin.4016.a"
		allow = {
			resource_stockpile_compare = {
				resource = energy
				value >= 1481893
			}
		}
		# should never be possible, but here's a joke response for players who abuse console commands
		response_text = "origin.4016.a.response"
		is_dialog_only = yes
	}

	option = { # pay energy
		name = "origin.4016.b"
		hidden_effect = {
			set_country_flag = debt_collectors_pay_energy
			country_event = { id = primitive_origin.4017 }
		}
	}

	option = { # pay consumer goods
		name = "origin.4016.c"
		hidden_effect = {
			set_country_flag = debt_collectors_pay_consumer_goods
			country_event = { id = primitive_origin.4017 }
		}
	}

	option = { # pay alloys
		name = "origin.4016.e"
		hidden_effect = {
			set_country_flag = debt_collectors_pay_alloys
			country_event = { id = primitive_origin.4017 }
		}
	}

	option = { # other ways to pay
		name = "origin.4016.d"
		hidden_effect = {
			country_event = { id = primitive_origin.4018 }
		}
	}
}

# Agreed to pay
country_event = {
	id = primitive_origin.4017
	base = primitive_origin.4015
	desc_clear = yes
	option_clear = yes

	desc = origin.4017.desc

	immediate = {
		# Reset the timer and fires the follow-up after 15 years
		hidden_effect = {
			set_country_flag = debt_collectors_agreed_to_pay
			set_saved_date = {
				key = payback_debt_collectors_timer
				days_from_present = 5400
				expires = 3180060
			}
			country_event = { id = primitive_origin.4029 days = 5400 }
		}
	}

	option = { # bye
		name = EXCELLENT
		custom_tooltip = origin.4017.a.tooltip
	}

	after = {
		hidden_effect = {
			# If this was your second meeting, fire the follow-up event
			owner = {
				if = {
					limit = {
						check_variable = {
							which = debt_collectors_visits
							value = 2
						}
					}
					country_event = { id = primitive_origin.4040 days = 15 }
				}
			}
		}
	}
}

# Other ways to pay
country_event = {
	id = primitive_origin.4018
	base = primitive_origin.4015
	desc_clear = yes
	option_clear = yes

	desc = origin.4018.desc

	option = { # pay with energy
		name = "origin.4018.a"
		hidden_effect = {
			country_event = { id = primitive_origin.4016 }
		}
	}

	option = { # pay with slaves
		name = "origin.4018.b"
		custom_tooltip = "origin.4018.b.tooltip"
		hidden_effect = {
			set_country_flag = debt_collectors_pay_slaves
			country_event = { id = primitive_origin.4017 }
		}
	}

	option = { # so you want slaves?
		name = "origin.4018.c"
		response_text = origin.4018.c.response
		is_dialog_only = yes
	}

	option = { # refuse to pay
		name = "origin.4018.d"
		hidden_effect = {
			country_event = { id = primitive_origin.4019 }
		}
	}
}

# Refuse to pay
country_event = {
	id = primitive_origin.4019
	base = primitive_origin.4015
	desc_clear = yes
	option_clear = yes

	desc = origin.4019.desc

	option = { # fight!
		name = "origin.4019.a"
		custom_tooltip = "origin.4019.a.tooltip"
		set_country_flag = is_fighting_debt_collectors
		set_country_flag = fought_debt_collectors_last_time
		capital_scope = {
			save_event_target_as = payback_capital
		}
		create_payback_debt_collectors_fleet = {
			NUM_DRONES = 3
		}
	}

	option = { # back
		name = "origin.4019.b"
		hidden_effect = {
			country_event = { id = primitive_origin.4016 }
		}
	}
}

# Won battle against the debt collectors
# FromFrom = fleet 1
# FromFromFrom = fleet 2
# This = owner of fleet 1 (winner)
# From = owner of fleet 2 (loser)
country_event = {
	id = primitive_origin.4020
	title = "origin.4020.name"
	desc = {
		trigger = {
			check_variable = {
				which = debt_collector_defeats
				value = 0
			}
		}
		text = "origin.4020.desc"
	}
	desc = {
		trigger = {
			check_variable = {
				which = debt_collector_defeats
				value > 0
			}
		}
		text = "origin.4020.desc.repeat"
	}
	picture = GFX_evt_exploding_ship
	show_sound = event_ship_explosion
	is_triggered_only = yes
	location = this.capital_scope

	trigger = {
		this = { has_civic = PrimPlayer_civic_the_obelisk }
		from = { is_country_type = debt_collectors }
		FromFromFrom = { NOT = { has_fleet_flag = marked_for_deletion } }
	}

	immediate = {
		remove_country_flag = is_fighting_debt_collectors
		set_country_flag = payback_debt_collectors_chain_refused_pay_won
		fromFromFrom = {
			set_fleet_flag = marked_for_deletion
			delete_fleet = this
		}
		change_variable = {
			which = debt_collector_defeats
			value = 1
		}
		# Reset the timer and fires the follow-up after 15 years
		hidden_effect = {
			set_saved_date = {
				key = payback_debt_collectors_timer
				days_from_present = 5400
				expires = 3180060
			}
			country_event = { id = primitive_origin.4029 days = 5400 }
		}
	}

	option = {
		name = EXCELLENT
		custom_tooltip = "origin.4017.a.tooltip"
	}

	after = {
		hidden_effect = {
			# If this was your second meeting, fire the follow-up event
			if = {
				limit = {
					check_variable = {
						which = debt_collectors_visits
						value = 2
					}
				}
				hidden_effect = {
					country_event = { id = primitive_origin.4040 days = 15 }
				}
			}
			# If you kicked them three times, a very angry MSI contacts you
			else_if = {
				limit = {
					check_variable = {
						which = debt_collector_defeats
						value = 3
					}
				}
				hidden_effect = {
					country_event = { id = primitive_origin.4021 days = 15 }
				}
			}
		}
	}
}

# MSI is annoyed
country_event = {
	id = primitive_origin.4021
	title = "origin.4021.name"
	desc = "origin.4021.desc"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = event_target:MSI_species
		room = slaver_room
	}

	trigger = {
		exists = event_target:MSI_country
		has_civic = PrimPlayer_civic_the_obelisk
		has_event_chain = "payback_debt_collectors_chain"
		check_variable = {
			which = debt_collector_defeats
			value = 3
		}
	}

	immediate = {
		# Establish communications in the improbable case you haven't encountered the MSI yet
		establish_communications_no_message = event_target:MSI_country
		event_target:MSI_country = {
			species = {
				save_event_target_as = MSI_species
			}
		}
	}

	option = {
		name = "origin.4021.a"
		# If you're already their vassal, they impose harsher conditions
		if = {
			limit = {
				is_subject = yes
				has_overlord = event_target:MSI_country
			}
			random_agreement = {
				limit = {
					owner = { is_same_value = event_target:MSI_country }
					target = { is_same_value = root }
				}
				set_agreement_preset = {
					preset = preset_payback_subsidiary_oppressive
					apply_terms = yes
				}
			}
		}
		# If not, they try to humiliate you
		else = {
			event_target:MSI_country = {
				declare_war = {
					target = prev
					attacker_war_goal = wg_payback_msi_humiliation
				}
			}
		}
	}
}

# Won battle against the debt collectors - someone else destroyed them for you
# FromFrom = fleet 1
# FromFromFrom = fleet 2
# This = owner of fleet 1 (winner)
# From = owner of fleet 2 (loser)
country_event = {
	id = primitive_origin.4022
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		this = { NOT = { has_civic = PrimPlayer_civic_the_obelisk } }
		from = { is_country_type = debt_collectors }
		FromFromFrom = { NOT = { has_fleet_flag = marked_for_deletion } }
		any_playable_country = {
			has_civic = PrimPlayer_civic_the_obelisk
			has_country_flag = is_fighting_debt_collectors
		}
	}

	immediate = {
		random_playable_country = {
			limit = {
				has_civic = PrimPlayer_civic_the_obelisk
				has_country_flag = is_fighting_debt_collectors
			}
			country_event = { id = primitive_origin.4020 scopes = { FromFrom = FromFrom FromFromFrom = FromFromFrom From = From } }
		}
	}
}

# Debt collectors raiding the planet
# This = Planet
# From = Bombarder
planet_event = {
	id = primitive_origin.4025
	title = "origin.4025.name"
	desc = "origin.4025.desc"
	picture = GFX_evt_burning_city
	show_sound = event_air_raid_siren
	is_triggered_only = yes
	location = this

	trigger = {
		planet_devastation >= 15
		from = { is_country_type = debt_collectors }
		owner = {
			has_civic = PrimPlayer_civic_the_obelisk
			has_event_chain = payback_debt_collectors_chain
		}
	}

	immediate = {
		from = {
			random_controlled_fleet = {
				limit = { has_fleet_flag = debt_collectors_raiding_fleet }
				set_fleet_flag = marked_for_deletion
				delete_fleet = this
			}
		}
		hidden_effect = {
			# resettle 5 pops to the MSI capital
			while = {
				count = 5
				random_owned_pop_group = {
					limit = {
						is_same_species = owner_main_species
					}
					resettle_pop_group = {
						POP_GROUP = this
						PLANET = event_target:MSI_country.capital_scope
						AMOUNT = 100
					}
				}
			}
		}
		owner = {
			remove_country_flag = is_fighting_debt_collectors
			# Reset the timer and fires the follow-up after 15 years
			hidden_effect = {
				set_saved_date = {
					key = payback_debt_collectors_timer
					days_from_present = 5400
					expires = 3180060
				}
				country_event = { id = primitive_origin.4029 days = 5400 }
			}
			set_country_flag = payback_debt_collectors_chain_refused_pay_lost
			add_modifier = {
				modifier = payback_gave_up_pop
				days = 1800
			}
		}
	}

	option = {
		name = "origin.4025.a"
		custom_tooltip = "origin.4025.a.tooltip"
	}

	after = {
		hidden_effect = {
			# If this was your second meeting, fire the follow-up event
			owner = {
				if = {
					limit = {
						check_variable = {
							which = debt_collectors_visits
							value = 2
						}
					}
					country_event = { id = primitive_origin.4040 days = 15 }
				}
			}
		}
	}
}

# Debt Collectors arrive (subsequent times)
country_event = {
	id = primitive_origin.4029
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		exists = event_target:MSI_country
		has_civic = PrimPlayer_civic_the_obelisk
		has_event_chain = payback_debt_collectors_chain
		NOT = { has_country_flag = payback_revenge_complete }
	}

	immediate = {
		# Why the extra hidden event? Because the hub event (origin.4030) is used as a base by other events,
		# so the immediate/after blocks would get repeated every time an option is picked,
		# increasing the variable.
		# We use this variable to scale their fleet power depending on game years, so it gets updated
		# even if they don't show up because you're at war.
		change_variable = {
			which = debt_collectors_visits
			value = 1
		}
		# If you're fighting the MSI, check again after 5 years to see if the war has ended
		if = {
			limit = {
				is_at_war_with = event_target:MSI_country
			}
			set_saved_date = {
				key = payback_debt_collectors_timer
				days_from_present = 1800
				expires = 3180060
			}
			country_event = { id = primitive_origin.4029 days = 1800 }

		}
		# If you're NOT currently fighting the MSI, the debt collectors show up as normal
		else = {
			# Reset some flags
			remove_country_flag = payback_debt_collectors_chain_refused_pay_won
			remove_country_flag = payback_debt_collectors_chain_refused_pay_lost
			# Fire the event
			country_event = { id = primitive_origin.4030 }
		}
	}
}

# Debt Collectors arrive (subsequent times)
country_event = {
	id = primitive_origin.4030
	title = "origin.4030.name"
	desc = {
		text = "origin.4030.desc.energy"
		trigger = {
			has_country_flag = debt_collectors_pay_energy
		}
	}
	desc = {
		text = "origin.4030.desc.consumer_goods"
		trigger = {
			has_country_flag = debt_collectors_pay_consumer_goods
		}
	}
	desc = {
		text = "origin.4030.desc.alloys"
		trigger = {
			has_country_flag = debt_collectors_pay_alloys
		}
	}
	desc = {
		text = "origin.4030.desc.pops"
		trigger = {
			has_country_flag = debt_collectors_pay_slaves
		}
	}
	desc = {
		text = "origin.4030.desc.defeated"
		trigger = {
			has_country_flag = fought_debt_collectors_last_time
			check_variable = {
				which = debt_collector_defeats
				value <= 2
			}
		}
	}
	desc = {
		text = "origin.4030.desc.furious"
		trigger = {
			has_country_flag = fought_debt_collectors_last_time
			check_variable = {
				which = debt_collector_defeats
				value > 2
			}
		}
	}
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = event_target:debt_collectors_species
		room = ethic_spaceship_room
	}

	trigger = {
		has_civic = PrimPlayer_civic_the_obelisk
		has_event_chain = "payback_debt_collectors_chain"
	}

	option = { # We are willing to settle this time
		name = "origin.4030.a"
		trigger = {
			NOT = { has_country_flag = debt_collectors_agreed_to_pay }
		}
		hidden_effect = {
			country_event = { id = primitive_origin.4016 }
		}
	}

	option = { # Pay with energy
		name = "origin.4030.b"
		trigger = {
			has_country_flag = debt_collectors_pay_energy
		}
		allow = {
			resource_stockpile_compare = {
				resource = energy
				value >= 5000
			}
		}
		add_resource = {
			energy = -5000
		}
		hidden_effect = {
			country_event = { id = primitive_origin.4031 }
		}
	}

	option = { # Pay with consumer goods
		name = "origin.4030.b"
		trigger = {
			has_country_flag = debt_collectors_pay_consumer_goods
		}
		allow = {
			resource_stockpile_compare = {
				resource = consumer_goods
				value >= 2500
			}
		}
		add_resource = {
			consumer_goods = -2500
		}
		hidden_effect = {
			country_event = { id = primitive_origin.4031 }
		}
	}

	option = { # Pay with alloys
		name = "origin.4030.b"
		trigger = {
			has_country_flag = debt_collectors_pay_alloys
		}
		allow = {
			resource_stockpile_compare = {
				resource = alloys
				value >= 1250
			}
		}
		add_resource = {
			alloys = -1250
		}
		hidden_effect = {
			country_event = { id = primitive_origin.4031 }
		}
	}

	option = { # Pay with your own people
		name = "origin.4030.c"
		trigger = {
			has_country_flag = debt_collectors_pay_slaves
		}
		allow = {
			count_owned_pop_amount = {
				limit = {
					is_same_species = owner_main_species
				}
				count >= 600
			}
		}
		custom_tooltip = origin.4030.c.tooltip
		hidden_effect = {
			# resettle 2 pops to the MSI capital
			while = {
				count = 2
				random_owned_pop_group = {
					limit = {
						is_same_species = owner_main_species
					}
					resettle_pop_group = {
						POP_GROUP = this
						PLANET = event_target:MSI_country.capital_scope
						AMOUNT = 100
					}
				}
			}
			country_event = { id = primitive_origin.4031 }
		}
	}

	option = { # Pay with slaves
		name = "origin.4030.d"
		trigger = {
			has_country_flag = debt_collectors_pay_slaves
		}
		allow = {
			count_owned_pop_amount = {
				limit = {
					is_enslaved = yes
				}
				count >= 200
			}
		}
		custom_tooltip = origin.4030.d.tooltip
		hidden_effect = {
			# resettle 2 pops to the MSI capital
			while = {
				count = 2
				random_owned_pop_group = {
					limit = {
						is_enslaved = yes
					}
					resettle_pop_group = {
						POP_GROUP = this
						PLANET = event_target:MSI_country.capital_scope
						AMOUNT = 100
					}
				}
			}
			country_event = { id = primitive_origin.4031 }
		}
	}

	option = { # Can't pay - energy
		name = "origin.4030.e"
		trigger = {
			OR = {
				AND = {
					has_country_flag = debt_collectors_pay_energy
					resource_stockpile_compare = {
						resource = energy
						value < 5000
					}
				}
				AND = {
					has_country_flag = debt_collectors_pay_alloys
					resource_stockpile_compare = {
						resource = alloys
						value < 1250
					}
				}
				AND = {
					has_country_flag = debt_collectors_pay_consumer_goods
					resource_stockpile_compare = {
						resource = consumer_goods
						value < 2500
					}
				}
			}
		}
		hidden_effect = {
			country_event = { id = primitive_origin.4036 }
		}
	}

	option = { # Won't pay
		name = "origin.4030.f"
		hidden_effect = {
			country_event = { id = primitive_origin.4037 }
		}
	}

	option = { # Who are you again?
		name = "origin.4030.g"
		response_text = "origin.4015.c.response"
		is_dialog_only = yes
	}
}

# Pay
country_event = {
	id = primitive_origin.4031
	base = primitive_origin.4030
	desc_clear = yes
	option_clear = yes

	desc = origin.4031.desc

	immediate = {
		change_variable = {
			which = debt_collectors_amount
			value = -4500
		}
		remove_country_flag = fought_debt_collectors_last_time
		set_saved_date = {
			key = payback_debt_collectors_timer
			days_from_present = 5400
			expires = 3180060
		}
		country_event = { id = primitive_origin.4029 days = 5400 }
	}

	# Second time you realize you're getting scammed, and you get a follow-up event
	option = {
		name = origin.4031.a
		trigger = {
			check_variable = {
				which = debt_collectors_visits
				value = 2
			}
		}
		hidden_effect = {
			country_event = { id = primitive_origin.4032 }
		}
	}

	# Subsequent times, everything is normal
	option = {
		trigger = {
			check_variable = {
				which = debt_collectors_visits
				value > 2
			}
		}
		name = GOODBYE
	}
}

# Agreed to pay - you got scammed!
country_event = {
	id = primitive_origin.4032
	base = primitive_origin.4030
	desc_clear = yes
	option_clear = yes

	desc = origin.4032.desc

	option = { # bye
		name = origin.4032.a
		hidden_effect = {
			country_event = { id = primitive_origin.4040 days = 15 }
		}
	}
}

# Can't pay - resources
country_event = {
	id = primitive_origin.4036
	base = primitive_origin.4030
	desc_clear = yes
	option_clear = yes

	desc = origin.4036.desc.energy

	option = { # Pay with your own people
		name = "origin.4030.c"
		allow = {
			count_owned_pop_amount = {
				limit = {
					is_same_species = owner_main_species
				}
				count >= 300
			}
		}
		hidden_effect = {
			# resettle 2 pops to the MSI capital
			while = {
				count = 2
				random_owned_pop_group = {
					limit = {
						is_same_species = owner_main_species
					}
					resettle_pop_group = {
						POP_GROUP = this
						PLANET = event_target:MSI_country.capital_scope
						AMOUNT = 100
					}
				}
			}
			country_event = { id = primitive_origin.4031 }
		}
	}

	option = { # Pay with slaves
		name = "origin.4030.d"
		allow = {
			count_owned_pop_amount = {
				limit = {
					is_enslaved = yes
				}
				count >= 3
			}
		}
		hidden_effect = {
			# resettle 2 pops to the MSI capital
			while = {
				count = 2
				random_owned_pop_group = {
					limit = {
						is_enslaved = yes
					}
					resettle_pop_group = {
						POP_GROUP = this
						PLANET = event_target:MSI_country.capital_scope
						AMOUNT = 100
					}
				}
			}
			country_event = { id = primitive_origin.4031 }
		}
	}

	option = { # fight!
		name = "origin.4036.desc.a"
		custom_tooltip = "origin.4036.desc.a.tooltip"
		set_country_flag = is_fighting_debt_collectors
		set_country_flag = fought_debt_collectors_last_time
		capital_scope = {
			save_event_target_as = payback_capital
		}
		create_payback_debt_collectors_fleet = {
			NUM_DRONES = 3
		}
	}

	option = { # so you want slaves?
		name = "origin.4018.c"
		response_text = origin.4018.c.response
		is_dialog_only = yes
	}
}

# Won't pay
country_event = {
	id = primitive_origin.4037
	base = primitive_origin.4030
	desc_clear = yes
	option_clear = yes

	desc = {
		text = "origin.4037.desc.base"
		trigger = {
			NOT = { has_country_flag = fought_debt_collectors_last_time }
		}
	}
	desc = {
		text = "origin.4037.desc.defeated"
		trigger = {
			has_country_flag = fought_debt_collectors_last_time
		}
	}

	option = { # fight!
		name = "origin.4019.a"
		custom_tooltip = "origin.4019.a.tooltip"
		set_country_flag = is_fighting_debt_collectors
		set_country_flag = fought_debt_collectors_last_time
		capital_scope = {
			save_event_target_as = payback_capital
		}
		create_payback_debt_collectors_fleet = {
			NUM_DRONES = 3
		}
	}

	option = { # back
		name = "origin.4019.b"
		hidden_effect = {
			country_event = { id = primitive_origin.4030 }
		}
	}
}

# How can we free ourselves?
country_event = {
	id = primitive_origin.4040
	title = origin.4040.name
	desc = origin.4040.desc
	picture = GFX_evt_payback
	show_sound = event_power_down
	is_triggered_only = yes

	trigger = {
		exists = event_target:MSI_country
	}

	option = { # weapons
		name = "origin.4040.a"
		custom_tooltip = "origin.4040.a.tooltip"
		hidden_effect = {
			country_event = { id = primitive_origin.4041 }
		}
	}

	option = { # words
		name = "origin.4040.b"
		custom_tooltip = "origin.4040.b.tooltip"
		hidden_effect = {
			country_event = { id = primitive_origin.4042 }
		}
	}
}

# With violence!
country_event = {
	id = primitive_origin.4041
	title = origin.4041.name
	desc = origin.4041.desc
	picture = GFX_evt_small_space_battle
	show_sound = event_power_down
	is_triggered_only = yes

	trigger = {
		exists = event_target:MSI_country
	}

	option = { # weapons
		name = origin.4041.a
		custom_tooltip = origin.4041.a.tooltip
		begin_event_chain = {
			event_chain = payback_make_them_pay_swords_chain
			target = this
		}
	}
}

# With words!
country_event = {
	id = primitive_origin.4042
	title = origin.4042.name
	desc = {
		text = origin.4042.desc.nogalcom
		trigger = {
			is_galactic_community_formed = no
		}
	}
	desc = {
		text = origin.4042.desc.galcom
		trigger = {
			is_galactic_community_formed = yes
			is_galactic_community_member = yes
		}
	}
	desc = {
		text = origin.4042.desc.nogalcommember
		trigger = {
			is_galactic_community_formed = yes
			is_galactic_community_member = no
		}
	}
	picture = GFX_evt_galactic_community
	show_sound = event_power_down
	is_triggered_only = yes

	trigger = {
		exists = event_target:MSI_country
	}

	option = { # words
		name = EXCELLENT
		set_country_flag = payback_use_words
		begin_event_chain = {
			event_chain = payback_make_them_pay_words_chain
			target = this
		}
		# If you're already in the galcom, trigger the cool war declaration
		hidden_effect = {
			if = {
				limit = {
					is_galactic_community_member = yes
				}
				country_event = { id = primitive_origin.4050 days = 10 }
			}
		}
	}
}

# Joined Galcom
country_event = {
	id = primitive_origin.4050
	title = origin.4050.name
	desc = origin.4050.desc
	picture = GFX_evt_slaver_empire
	show_sound = event_power_down
	is_triggered_only = yes

	trigger = {
		has_civic = PrimPlayer_civic_the_obelisk
		has_event_chain = payback_make_them_pay_words_chain
		NOT = { has_country_flag = joined_galcom_first_time }
	}

	immediate = {
		set_country_flag = joined_galcom_first_time
	}

	option = {
		name = origin.4050.a
		custom_tooltip = origin.4050.a.tooltip
		hidden_effect = {
			end_event_chain = payback_make_them_pay_words_chain
			begin_event_chain = {
				event_chain = payback_make_them_pay_words_1_chain
				target = this
			}
		}
	}

	option = {
		name = origin.4050.b
		custom_tooltip = origin.4050.b.tooltip
		hidden_effect = {
			end_event_chain = payback_make_them_pay_words_chain
			begin_event_chain = {
				event_chain = payback_make_them_pay_words_2_chain
				target = this
			}
		}
	}

	after = {
		# Check if relevant resolutions while you weren't in the galcom and update the triggers accordingly
		## Variant 1 - Equal STanding
		if = {
			limit = {
				has_event_chain = payback_make_them_pay_words_1_chain
			}
			payback_words_chain_counters_check_joining_galcom = {
				CHAIN = payback_make_them_pay_words_1_chain
			}
		}
		## Variant 2 - Non-interference
		if = {
			limit = {
				has_event_chain = payback_make_them_pay_words_2_chain
			}
			payback_words_chain_counters_check_joining_galcom = {
				CHAIN = payback_make_them_pay_words_2_chain
			}
		}
	}
}

# Passed a sanction
country_event = {
	id = primitive_origin.4051

	hide_window = yes
	is_triggered_only = yes

	trigger = {
		any_galcom_member = {
			has_civic = PrimPlayer_civic_the_obelisk
			has_country_flag = payback_use_words
		}
		OR = {
			last_resolution_changed = resolution_sanctions_tech_1
			last_resolution_changed = resolution_sanctions_economic_1
			last_resolution_changed = resolution_sanctions_military_1
			last_resolution_changed = resolution_sanctions_administrative_1
		}
	}

	immediate = {
		every_galcom_member = {
			limit = {
				has_civic = PrimPlayer_civic_the_obelisk
				has_country_flag = payback_use_words
				OR = {
					has_event_chain = payback_make_them_pay_words_1_chain
					has_event_chain = payback_make_them_pay_words_2_chain
				}
			}
			## Variant 1 - Equal Standing
			if = {
				limit = {
					has_event_chain = payback_make_them_pay_words_1_chain
				}
				# Add a point to the relevant event chain
				add_event_chain_counter = {
					event_chain = payback_make_them_pay_words_1_chain
					counter = "sanctions_passed"
					amount = 1
				}
				payback_resolution_counters_check = {
					CHAIN = payback_make_them_pay_words_1_chain
					RESOLUTION = equal_standing_passed
				}
			}
			## Variant 2 - Non-interference
			if = {
				limit = {
					has_event_chain = payback_make_them_pay_words_2_chain
				}
				# Add a point to the relevant event chain
				add_event_chain_counter = {
					event_chain = payback_make_them_pay_words_2_chain
					counter = "sanctions_passed"
					amount = 1
				}
				payback_resolution_counters_check = {
					CHAIN = payback_make_them_pay_words_2_chain
					RESOLUTION = non_interference_passed
				}
			}
		}
	}
}

# Passed first resolution on the list
country_event = {
	id = primitive_origin.4052
	title = origin.4052.name
	desc = origin.4052.desc
	picture = GFX_evt_galactic_community
	show_sound = event_power_down
	is_triggered_only = yes

	trigger = {
		has_civic = PrimPlayer_civic_the_obelisk
		has_country_flag = payback_use_words
		NOT = { has_country_flag = payback_revenge_words_first_resolution_passed }
	}

	immediate = {
		set_country_flag = payback_revenge_words_first_resolution_passed
	}

	option = {
		name = EXCELLENT
		add_monthly_resource_mult = {
			resource = unity
			value = @tier3unityreward
			min = @tier3unitymin
			max = @tier3unitymax
		}
	}
}

# Passed equal standing or non-interference
country_event = {
	id = primitive_origin.4053

	hide_window = yes
	is_triggered_only = yes

	trigger = {
		any_galcom_member = {
			has_civic = PrimPlayer_civic_the_obelisk
			has_country_flag = payback_use_words
		}
		OR = {
			last_resolution_changed = resolution_pre_ftl_stances_equal_standing
			last_resolution_changed = resolution_pre_ftl_stances_non_interference
		}
	}

	immediate = {
		every_galcom_member = {
			limit = {
				has_civic = PrimPlayer_civic_the_obelisk
				has_country_flag = payback_use_words
				OR = {
					has_event_chain = payback_make_them_pay_words_1_chain
					has_event_chain = payback_make_them_pay_words_2_chain
				}
			}
			## Variant 1 - Equal STanding
			if = {
				limit = {
					has_event_chain = payback_make_them_pay_words_1_chain
				}
				# Add a point to the relevant event chain
				add_event_chain_counter = {
					event_chain = "payback_make_them_pay_words_1_chain"
					counter = "equal_standing_passed"
					amount = 1
				}
				payback_resolution_counters_check = {
					CHAIN = payback_make_them_pay_words_1_chain
					RESOLUTION = equal_standing_passed
				}
			}
			## Variant 2 - Non-interference
			if = {
				limit = {
					has_event_chain = payback_make_them_pay_words_2_chain
				}
				# Add a point to the relevant event chain
				add_event_chain_counter = {
					event_chain = "payback_make_them_pay_words_2_chain"
					counter = "non_interference_passed"
					amount = 1
				}
				payback_resolution_counters_check = {
					CHAIN = payback_make_them_pay_words_2_chain
					RESOLUTION = non_interference_passed
				}
			}
		}
	}
}

# Passed all resolutions
country_event = {
	id = primitive_origin.4055
	title = origin.4055.name
	desc = {
		text = origin.4055.desc.msi
		trigger = {
			exists = event_target:MSI_country
		}
	}
	desc = {
		text = origin.4055.desc.nomsi
		trigger = {
			NOR = {
				exists = event_target:MSI_country
				event_target:MSI_country = {
					allows_slavery = yes
				}
			}
		}
	}
	picture = GFX_evt_galactic_community
	show_sound = event_power_down
	is_triggered_only = yes

	trigger = {
		has_civic = PrimPlayer_civic_the_obelisk
		OR = {
			has_event_chain = payback_make_them_pay_words_1_chain
			has_event_chain = payback_make_them_pay_words_2_chain
		}
	}

	option = {
		name = EXCELLENT
		add_monthly_resource_mult = {
			resource = unity
			value = @tier4unityreward
			min = @tier4unitymin
			max = @tier4unitymax
		}
		add_modifier = {
			modifier = payback_revenge_words
		}
		hidden_effect = {
			# If MSI is still around and they're still slavers, they fall apart
			if = {
				limit = {
					exists = event_target:MSI_country
					event_target:MSI_country = {
						allows_slavery = yes
					}
				}
				country_event = { id = primitive_origin.4056 days = 15 }
			}
		}
	}

	after = {
		remove_country_flag = payback_use_words
		set_country_flag = payback_revenge_complete
		end_event_chain = payback_debt_collectors_chain
		if = {
			limit = {
				has_event_chain = payback_make_them_pay_words_1_chain
			}
			end_event_chain = payback_make_them_pay_words_1_chain
		}
		else = {
			end_event_chain = payback_make_them_pay_words_2_chain
		}
	}
}

# Passed all resolutions or won Ideology war - follow-up
country_event = {
	id = primitive_origin.4056
	title = "origin.4056.name"
	desc = "origin.4056.desc"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		room = slaver_room
	}

	trigger = {
		exists = event_target:MSI_country
	}

	option = {
		name = "origin.4056.a"
		event_target:MSI_country = {
			add_modifier = {
				modifier = instability_join_revolt
			}
			add_modifier = {
				modifier = angered_populace
			}
		}
	}
}

# Repealed a sanction - update the counter
country_event = {
	id = primitive_origin.4057
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			last_resolution_changed = resolution_sanctions_tech_repeal_1
			last_resolution_changed = resolution_sanctions_economic_repeal_1
			last_resolution_changed = resolution_sanctions_military_repeal_1
			last_resolution_changed = resolution_sanctions_administrative_repeal_1
		}
		any_galcom_member = {
			OR = {
				has_event_chain = payback_make_them_pay_words_1_chain
				has_event_chain = payback_make_them_pay_words_2_chain
			}
		}
	}

	immediate = {
		every_galcom_member = {
			limit = {
				has_civic = PrimPlayer_civic_the_obelisk
				has_country_flag = payback_use_words
				OR = {
					has_event_chain = payback_make_them_pay_words_1_chain
					has_event_chain = payback_make_them_pay_words_2_chain
				}
			}
			## Variant 1
			if = {
				limit = {
					has_event_chain = payback_make_them_pay_words_1_chain
				}
				# Add a point to the relevant event chain
				add_event_chain_counter = {
					event_chain = "payback_make_them_pay_words_1_chain"
					counter = "sanctions_passed"
					amount = -1
				}
			}
			## Variant 2
			if = {
				limit = {
					has_event_chain = payback_make_them_pay_words_2_chain
				}
				# Add a point to the relevant event chain
				add_event_chain_counter = {
					event_chain = "payback_make_them_pay_words_2_chain"
					counter = "sanctions_passed"
					amount = -1
				}
			}
		}
	}
}

# Repealed Equal Standing - update the counter
country_event = {
	id = primitive_origin.4058

	hide_window = yes
	is_triggered_only = yes

	trigger = {
		any_galcom_member = {
			has_event_chain = payback_make_them_pay_words_1_chain
			last_resolution_changed = resolution_pre_ftl_stances_repeal_1
		}
	}

	immediate = {
		every_galcom_member = {
			limit = {
				has_event_chain = payback_make_them_pay_words_1_chain
			}
			add_event_chain_counter = {
				event_chain = "payback_make_them_pay_words_1_chain"
				counter = "equal_standing_passed"
				amount = -1
			}
		}
	}
}

# Repealed Non-Interference - update the counter
country_event = {
	id = primitive_origin.4059

	hide_window = yes
	is_triggered_only = yes

	trigger = {
		any_galcom_member = {
			has_event_chain = payback_make_them_pay_words_2_chain
			last_resolution_changed = resolution_pre_ftl_stances_repeal_2
		}
	}

	immediate = {
		every_galcom_member = {
			limit = {
				has_event_chain = payback_make_them_pay_words_2_chain
			}
			add_event_chain_counter = {
				event_chain = "payback_make_them_pay_words_2_chain"
				counter = "non_interference_passed"
				amount = -1
			}
		}
	}
}

# MSI defeated by us - by fighting
country_event = {
	id = primitive_origin.4060
	title = origin.4060.name
	desc = origin.4060.desc
	picture = GFX_evt_victorious_army
	show_sound = event_power_down
	is_triggered_only = yes

	trigger = {
		fromfrom = {
			OR = {
				using_war_goal = {
					type = wg_payback_wipe_them_out
					owner = root
				}
				using_war_goal = {
					type = wg_payback_force_ideology
					owner = root
				}
				using_war_goal = {
					type = wg_payback_tribute
					owner = root
				}
				using_war_goal = {
					type = wg_payback_megacorp_subjugate
					owner = root
				}
			}
		}
		if = {
			limit = {
				exists = from
			}
			from = {
				has_origin = origin_slavers
			}
		}
		has_civic = PrimPlayer_civic_the_obelisk
		has_event_chain = payback_make_them_pay_swords_chain
	}

	immediate = {
		set_country_flag = payback_revenge_complete
		if = {
			limit = {
				fromfrom = {
					using_war_goal = {
						type = wg_payback_force_ideology
						owner = root
					}
				}
			}
			set_country_flag = pacified_MSI
		}
	}

	option = {
		name = origin.4060.a
		add_modifier = {
			modifier = payback_no_revenge
		}
	}

	option = {
		name = origin.4060.b
		trigger = {
			allows_slavery = no
		}
		custom_tooltip = origin.4060.b.tooltip
		set_country_flag = payback_punish_slavers
	}

	after = {
		end_event_chain = payback_make_them_pay_swords_chain
		end_event_chain = payback_debt_collectors_chain
		set_country_flag = with_interest_achievement
		# If you won using force ideology, they collapse
		if = {
			limit = {
				has_country_flag = pacified_MSI
			}
			country_event = { id = primitive_origin.4056 days = 15 }
		}
	}
}

# MSI defeated by us - by fighting - annihilation fallback
# Why is this event necessary? Because if you destroy your opponent, on_war_won doesn't fire:
# you aren't winning, the war ends because you don't have anyone to fight
country_event = {
	id = primitive_origin.4061
	title = origin.4060.name
	desc = origin.4060.desc
	picture = GFX_evt_victorious_army
	show_sound = event_power_down
	is_triggered_only = yes

	trigger = {
		has_civic = PrimPlayer_civic_the_obelisk
		has_event_chain = payback_make_them_pay_swords_chain
		has_country_flag = payback_killed_MSI
	}

	immediate = {
		set_country_flag = payback_revenge_complete
	}

	option = {
		name = origin.4060.a
		add_modifier = {
			modifier = payback_no_revenge
		}
	}

	option = {
		name = origin.4060.b
		trigger = {
			allows_slavery = no
		}
		custom_tooltip = origin.4060.b.tooltip
		set_country_flag = payback_punish_slavers
	}

	after = {
		end_event_chain = payback_make_them_pay_swords_chain
		end_event_chain = payback_debt_collectors_chain
		set_country_flag = with_interest_achievement
	}
}

# MSI defeated by someone else
 country_event = {
	id = primitive_origin.4070
	title = origin.4070.name
	desc = origin.4070.desc
	picture = GFX_evt_slaver_empire
	show_sound = event_space_battle
	is_triggered_only = yes

	trigger = {
		has_civic = PrimPlayer_civic_the_obelisk
		has_country_flag = payback_stolen_revenge
		NOT = { has_country_flag = payback_revenge_complete }
	}

	option = {
		name = origin.4070.a
		add_modifier = {
			modifier = payback_no_revenge_small
		}
		set_country_flag = payback_revenge_complete
	}

	option = {
		name = origin.4070.b
		trigger = {
			OR = {
				has_event_chain = payback_make_them_pay_words_chain
				has_event_chain = payback_make_them_pay_words_1_chain
				has_event_chain = payback_make_them_pay_words_2_chain
			}
		}
		custom_tooltip = origin.4070.b.tooltip
	}

	option = {
		name = origin.4070.c
		trigger = {
			exists = event_target:destroyer_country
			NOR = {
				has_event_chain = payback_make_them_pay_words_chain
				has_event_chain = payback_make_them_pay_words_1_chain
				has_event_chain = payback_make_them_pay_words_2_chain
			}
		}
		# if MSI got destroyed by a crisis, get a modifier against them
		if = {
			limit = {
				event_target:destroyer_country = {
					is_crisis_faction = yes
				}
			}
			add_modifier = {
				modifier = payback_underdog
			}
			end_event_chain = payback_make_them_pay_swords_chain
		}
		# if MSI got destroyed by the khan, get a modifier against them
		else_if = {
			limit = {
				event_target:destroyer_country = {
					is_country_type = awakened_marauders
				}
			}
			add_modifier = {
				modifier = payback_underdog_khan
			}
			end_event_chain = payback_make_them_pay_swords_chain
		}
		# if not, the destroyer country becomes the new target of your revenge
		else_if = {
			limit = {
				OR = {
					is_country_type = default
					is_country_type = fallen_empire
					is_country_type = awakened_fallen_empire
				}
			}
			event_target:destroyer_country = {
				set_country_flag = payback_stole_revenge
				save_global_event_target_as = payback_stole_revenge_country
			}
			# If the rare case the MSI gets destroyed before you can start your revenge, get the event chain now
			if = {
				limit = {
						NOT = { has_event_chain = payback_make_them_pay_swords_chain }
					}
				begin_event_chain = {
					event_chain = payback_make_them_pay_swords_chain
					target = ROOT
				}
			}
			custom_tooltip = origin.4070.d.tooltip
		}
	}

	after = {
		remove_country_flag = payback_stolen_revenge
		end_event_chain = payback_debt_collectors_chain
	}
}

# Defeated the people who defeated the MSI
country_event = {
	id = primitive_origin.4071
	title = origin.4071.name
	desc = origin.4071.desc
	picture = GFX_evt_victorious_army
	show_sound = event_space_battle
	is_triggered_only = yes

	trigger = {
		fromfrom = {
			OR = {
				using_war_goal = {
					type = wg_payback_wipe_them_out
					owner = root
				}
				using_war_goal = {
					type = wg_payback_force_ideology
					owner = root
				}
				using_war_goal = {
					type = wg_payback_tribute
					owner = root
				}
				using_war_goal = {
					type = wg_payback_megacorp_subjugate
					owner = root
				}
			}
		}
		from = {
			has_country_flag = payback_stole_revenge
		}
		has_civic = PrimPlayer_civic_the_obelisk
		has_event_chain = payback_make_them_pay_swords_chain
	}

	immediate = {
		set_country_flag = payback_revenge_complete
	}

	option = {
		name = origin.4070.a
		add_modifier = {
			modifier = payback_no_revenge
		}
	}

	option = {
		name = origin.4071.a
		custom_tooltip = origin.4060.b.tooltip
		set_country_flag = payback_punish_slavers
	}

	after = {
		end_event_chain = payback_make_them_pay_swords_chain
	}
}

###################################################################################################################################################
###################################################################################################################################################
###################################################################################################################################################
###################################################################################################################################################
#########################################										###################################################################
													## Out of Warranty
#########################################										###################################################################
###################################################################################################################################################
###################################################################################################################################################
###################################################################################################################################################
###################################################################################################################################################
## Out of Warranty
# Fired by on_decade_pulse_country

# Gene Clinic is breaking down
country_event = {
	id = primitive_origin.4300
	title = primitive_origin.4300.name
	desc = {
		trigger = {
			AND = {
				has_country_flag = has_encountered_other_empire
				is_xenophile = yes
			}
		}
		text = primitive_origin.4300.aliens.phile.desc
	}
	desc = {
		trigger = {
			AND = {
				has_country_flag = has_encountered_other_empire
				is_xenophobe = yes
			}
		}
		text = primitive_origin.4300.aliens.phobe.desc
	}
	desc = {
		trigger = {
			NOR = {
				has_country_flag = has_encountered_other_empire
				is_xenophobe = yes
			}
		}
		text = primitive_origin.4300.noaliens.desc
	}
	picture = GFX_evt_emergency_workers
	show_sound = event_power_down
	is_triggered_only = yes
	location = home_planet

	trigger = {
		has_civic = PrimPlayer_civic_the_obelisk
		NOT = {
			has_country_flag = payback_had_out_of_warranty
			has_technology = tech_frontier_health
		}
		home_planet = {
			original_owner = yes
			has_building = building_medical_2
		}
	}

	immediate = {
		set_country_flag = payback_had_out_of_warranty
		set_country_flag = payback_ruined_gene_clinics # prevents origin.4306 from firing upon gaining the tech
		home_planet = {
			ruin_building = building_medical_2
		}
	}

	option = { # Attempt to repair the clinics
		name = origin.4300.a
		begin_event_chain = {
			event_chain = payback_out_of_warranty_chain
			target = this
		}
		custom_tooltip = origin.4300.a.tooltip
	}

	option = { # Repurpose clinics (Autochthon Monument/Sanctuary of Repose)
		name = origin.4300.b
		allow = {
			resource_stockpile_compare = {
				resource = minerals
				value >= 100
			}
		}
		if = {
			limit = { is_memorialist_empire = yes }
			custom_tooltip = origin.4300.b.memorialist.tooltip
		}
		else = {
			custom_tooltip = origin.4300.b.tooltip
		}
		add_resource = {
			minerals = -100
		}
		home_planet = {
			planet_event = { id = primitive_origin.4304 days = 15 }
		}
	}

	after = {
		hidden_effect = {
			# follow-up where healthcare is getting worse and the population is not happy about it
			country_event = { id = primitive_origin.4305 days = 360 random = 180 }
		}
	}
}

# Building repaired!
country_event = {
	id = primitive_origin.4301
	title = origin.4301.name
	desc = {
		trigger = {
			success_text = {
				text = primitive_origin.4301.agreement.desc
				owner = { num_research_agreements > 0 }
			}
			success_text = {
				text = primitive_origin.4301.noagreement.desc
				owner = { num_research_agreements = 0 }
			}
			text = newline
			text = primitive_origin.4301.end.desc
		}
	}
	picture = GFX_evt_scientific_experiments
	show_sound = event_laboratory_sound
	is_triggered_only = yes
	location = home_planet

	immediate = {
		remove_country_flag = payback_ruined_gene_clinics
	}

	option = {
		name = EXCELLENT
		trigger = {
			OR = {
				is_xenophobe = no
				num_research_agreements = 0
			}
		}
	}

	option = {
		name = origin.4301.a
		trigger = {
			is_xenophobe = yes
			num_research_agreements > 1
		}
		every_owned_pop_group = {
			limit = {
				has_any_ethic = yes
				NOT = { has_ethic = ethic_xenophile }
			}
			pop_group_transfer_ethic = {
				POP_GROUP = this
				ETHOS = ethic_xenophile
				PERCENTAGE = 0.05
			}
		}
	}

	after = {
		give_technology = {
			tech = tech_frontier_health
			message = yes
		}
		remove_modifier = payback_declining_healthcare
		end_event_chain = payback_out_of_warranty_chain
	}
}

# Building still broken
country_event = {
	id = primitive_origin.4302
	title = origin.4302.name
	desc = primitive_origin.4302.desc
	picture = GFX_evt_vivisection
	is_triggered_only = yes
	location = home_planet

	trigger = {
		home_planet = {
			has_building = building_medical_2
		}
	}

	immediate = {
		home_planet = {
			ruin_building = building_medical_2
		}
	}

	option = { # Attempt to repair the clinics again
		name = origin.4302.a
		custom_tooltip = origin.4302.a.tooltip
	}

	option = { # Repurpose clinics (Autochthon Monument/Sanctuary of Repose)
		name = origin.4300.b
		allow = {
			resource_stockpile_compare = {
				resource = minerals
				value >= 100
			}
		}
		if = {
			limit = { is_memorialist_empire = yes }
			custom_tooltip = origin.4302.b.memorialist.tooltip
		}
		else = {
			custom_tooltip = origin.4302.b.tooltip
		}
		add_resource = {
			minerals = -100
		}
		home_planet = {
			planet_event = { id = primitive_origin.4304 days = 15 }
		}
	}
}

# Building broken beyond repair
planet_event = {
	id = primitive_origin.4303
	title = origin.4303.name
	desc = primitive_origin.4303.desc
	picture = GFX_evt_archaeologists_escaping
	show_sound = event_ship_explosion
	is_triggered_only = yes
	location = this

	option = {
		name = UNFORTUNATE
		remove_building = building_medical_2
		random_owned_pop_group = {
			limit = { is_robot_pop_group = no }
			kill_single_pop = yes
		}
		owner = {
			end_event_chain = payback_out_of_warranty_chain
		}
	}
}

# Building Repurposed
planet_event = {
	id = primitive_origin.4304
	title = origin.4304.name
	desc = primitive_origin.4304.desc
	picture = GFX_evt_arena
	show_sound = event_celebration
	is_triggered_only = yes
	location = this

	immediate = {
		remove_building = building_medical_2
		set_timed_planet_flag = {
			flag = ignore_ai_building_limitations
			days = 1
		}
		if = {
			limit = {
				owner = { is_memorialist_empire = yes }
			}
			add_building = building_galactic_memorial_1
		}
		else = {
			add_building = building_autochthon_monument
		}
	}

	option = {
		name = SPLENDID
		owner = {
			add_modifier = {
				modifier = payback_healing_scars
				years = 5
			}
		}
	}
}

# No building - people getting sick
country_event = {
	id = primitive_origin.4305
	title = origin.4305.name
	desc = primitive_origin.4305.desc
	picture = GFX_evt_disease_outbreak
	show_sound = event_life_support_fail
	is_triggered_only = yes

	trigger = {
		# Only happens if you haven't somehow built/gotten more clinics in the meantime
		NOT = {
			any_owned_planet = {
				has_active_building = building_medical_2
			}
		}
	}

	option = { # invest
		name = origin.4305.a
		allow = {
			resource_stockpile_compare = {
				resource = energy
				value >= 500
			}
		}
		add_resource = {
			energy = -500
		}
		custom_tooltip = origin.4305.a.tooltip
		set_country_flag = payback_researching_gene_clinics
		add_modifier = {
			modifier = payback_declining_healthcare
			days = 1800
		}
	}

	option = { # alternative medicine
		name = origin.4305.b
		custom_tooltip = origin.4305.b.tooltip
		add_modifier = {
			modifier = payback_declining_healthcare
			days = 1800
		}
	}

	option = { # not a problem
		name = origin.4305.c
		trigger = {
			OR = {
				is_reanimator = yes
				is_death_cult_empire = yes
			}
		}
	}
}

# Rediscovering genetic healthcare
country_event = {
	id = primitive_origin.4306
	title = origin.4306.name
	desc = primitive_origin.4306.desc
	picture = GFX_evt_genetic_modification
	show_sound = event_celebration
	is_triggered_only = yes

	trigger = {
		has_civic = PrimPlayer_civic_the_obelisk
		has_country_flag = payback_ruined_gene_clinics
		last_increased_tech = tech_frontier_health
	}

	option = {
		name = EXCELLENT
		end_event_chain = payback_out_of_warranty_chain
		add_monthly_resource_mult = {
			resource = unity
			value = @tier2unityreward
			min = @tier2unitymin
			max = @tier2unitymax
		}
		remove_modifier = payback_declining_healthcare
	}
}
