############################
#
# Progress Events
#
# Vanilla Written by Henrik Thyrwall
#
############################

namespace = progress

# First Contact (Normal Empire)
country_event = {
	id = progress.4
	title = "progress.4.name"
	picture = GFX_evt_news_room

	desc = {
		text = progress.4.desc_01
		trigger = {
			NOT = {
				OR = {
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
					has_ethic = ethic_gestalt_consciousness
					has_origin = origin_storm_chasers
				}
			}
		}
	}
	desc = { # Xenophile
		text = progress.4.desc_02
		trigger = {
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
			NOT = { has_origin = origin_storm_chasers }
		}
	}
	desc = { # Xenophobe
		text = progress.4.desc_03
		trigger = {
			OR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
			NOT = { has_origin = origin_storm_chasers }
		}
	}
	desc = { # Gestalt Consciousness
		text = progress.4.desc_04
		trigger = {
			has_ethic = ethic_gestalt_consciousness
			NOT = { has_origin = origin_storm_chasers }
		}
	}

	desc = { # Storm Chasers
		text = progress.4.desc.storm
		trigger = { has_origin = origin_storm_chasers }
	}

	is_triggered_only = yes

	trigger = {
		is_ai = no
		NOT = { has_country_flag = first_contact_event }
		NOR = {
			has_origin = origin_payback
			has_origin = origin_broken_shackles
		}
		event_target:contact_empire = {
			NOR = {
				is_country_type = fallen_empire
				is_country_type = awakened_fallen_empire
				#is_country_type = tiyanki
				is_amoeba_country_type = yes
				is_country_type = cloud
				is_drone_country_type = yes
				is_crystal_country_type = yes
			}
			is_primitive = no
		}
	}

	immediate = {
		set_country_flag = first_contact_event
	}

	option = {
		name = "progress.4.a"
		trigger = {
			NOT = {
				OR = {
					has_ethic = ethic_gestalt_consciousness
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
					has_origin = origin_storm_chasers
				}
			}
		}
		set_awareness = 100
	}
	option = {
		name = "progress.4.b"
		trigger = {
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
			NOT = { owner = { has_origin = origin_storm_chasers } }
		}
		set_awareness = 100
	}
	option = {
		name = "progress.4.c"
		trigger = {
			OR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
			NOT = { owner = { has_origin = origin_storm_chasers } }
		}
		set_awareness = 100
	}
	option = {
		name = "progress.4.d"
		trigger = {
			is_hive_empire = yes
			has_devouring_swarm_government = no
			NOT = { owner = { has_origin = origin_storm_chasers } }
		}
		set_awareness = 100
	}
	option = {
		name = "progress.4.e"
		trigger = {
			is_machine_empire = yes
			NOR = {
				has_government = "gov_machine_terminator"
				has_origin = origin_storm_chasers
			}
		}
		set_awareness = 100
	}
	option = {
		name = "progress.4.f"
		trigger = {
			has_devouring_swarm_government = yes
			NOT = { owner = { has_origin = origin_storm_chasers } }
		}
		set_awareness = 100
	}
	option = {
		name = "progress.4.g"
		trigger = {
			has_government = "gov_machine_terminator"
			NOT = { owner = { has_origin = origin_storm_chasers } }
		}
		set_awareness = 100
	}
	option = {
		name = progress.4.h.storm
		trigger = { has_origin = origin_storm_chasers }
		set_awareness = 100
	}

	after = {
		if = {
			limit = {
				has_paragon_dlc = yes
				is_gestalt = no
				is_homicidal = no
			}
			add_research_option = tech_xeno_linguistics
		}
	}
}

# First Contact (Primitive)
country_event = {
	id = progress.5
	title = "progress.5.name"
	picture = GFX_evt_news_room

	desc = {
		text = progress.5.desc_01
		trigger = {
			NOT = {
				OR = {
					has_ethic = ethic_gestalt_consciousness
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
					has_origin = origin_storm_chasers
				}
			}
		}
	}
	desc = { # Xenophile
		text = progress.5.desc_02
		trigger = {
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
			NOT = { has_origin = origin_storm_chasers }
		}
	}
	desc = { # Xenophobe
		text = progress.5.desc_03
		trigger = {
			OR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
			NOT = { has_origin = origin_storm_chasers }
		}
	}
	desc = { # Gestalt Consciousness
		text = progress.5.desc_04
		trigger = {
			has_ethic = ethic_gestalt_consciousness
			NOT = { has_origin = origin_storm_chasers }
		}
	}
	desc = { # Storm Chasers Normal
		text = progress.5.desc.storm.normal
		trigger = {
			has_origin = origin_storm_chasers
			is_gestalt = no
		}
	}
	desc = { # Storm Chasers Gestalt
		text = progress.5.desc.storm.gestalt
		trigger = {
			has_origin = origin_storm_chasers
			is_gestalt = yes
		}
	}

	is_triggered_only = yes

	trigger = {
		is_ai = no
		NOT = { has_country_flag = first_contact_preFTL_established }
		NOR = {
			has_origin = origin_payback
			has_origin = origin_broken_shackles
			has_origin = origin_unplugged
		}
		event_target:contact_empire = { is_primitive = yes }
	}

	immediate = {
		set_country_flag = first_contact_preFTL_established
	}

	option = {
		name = "progress.4.a"
		trigger = {
			NOT = {
				OR = {
					has_ethic = ethic_gestalt_consciousness
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
					has_origin = origin_storm_chasers
				}
			}
		}
		set_awareness = 100
	}
	option = {
		name = "progress.5.b"
		trigger = {
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
			NOT = { has_origin = origin_storm_chasers }
		}
		set_awareness = 100
	}
	option = {
		name = "progress.5.c"
		trigger = {
			OR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
			NOT = { has_origin = origin_storm_chasers }
		}
		set_awareness = 100
	}
	option = {
		name = "progress.4.d"
		trigger = {
			is_hive_empire = yes
			NOR = {
				has_devouring_swarm_government = yes
				has_origin = origin_storm_chasers
			}
		}
		set_awareness = 100
	}
	option = {
		name = "progress.4.e"
		trigger = {
			is_machine_empire = yes
			NOR = {
				has_government = "gov_machine_terminator"
				has_origin = origin_storm_chasers
			}
		}
		set_awareness = 100
	}
	option = {
		name = "progress.4.f"
		trigger = {
			has_devouring_swarm_government = yes
		}
		set_awareness = 100
	}
	option = {
		name = "progress.4.g"
		trigger = {
			has_government = "gov_machine_terminator"
		}
		set_awareness = 100
	}
	option = {
		name = progress.5.h.storm
		trigger = { has_origin = origin_storm_chasers }
		set_awareness = 100
	}
}

# First Contact (Fallen Empire)
country_event = {
	id = progress.6
	title = "progress.4.name"
	picture = GFX_evt_news_room

	desc = {
		text = progress.6.desc_01
		trigger = {
			NOT = {
				OR = {
					has_ethic = ethic_gestalt_consciousness
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
					has_origin = origin_storm_chasers
				}
			}
		}
	}
	desc = { # Xenophile
		text = progress.6.desc_02
		trigger = {
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
			NOT = { has_origin = origin_storm_chasers }
		}
	}
	desc = { # Xenophobe
		text = progress.6.desc_03
		trigger = {
			OR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}

		}
	}
	desc = { # Gestalt Consciousness
		text = progress.6.desc_04
		trigger = {
			has_ethic = ethic_gestalt_consciousness
			NOT = { has_origin = origin_storm_chasers }
		}
	}
	desc = { # Storm Chasers
		text = progress.6.desc.storm
		trigger = { has_origin = origin_storm_chasers }
	}

	is_triggered_only = yes

	trigger = {
		is_ai = no
		NOT = { has_country_flag = first_contact_event }
		NOT = { has_origin = origin_payback }
		event_target:contact_empire = { is_country_type = fallen_empire }
	}

	immediate = {
		set_country_flag = first_contact_event
	}

	option = {
		name = "progress.4.a"
		trigger = {
			NOT = {
				OR = {
					has_ethic = ethic_gestalt_consciousness
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
					has_origin = origin_storm_chasers
				}
			}
		}
		if = {
			limit = {
				OR = {
					has_origin = origin_primitive_player_pre_industrial_age
					has_origin = origin_primitive_player_industrial_age
					has_origin = origin_primitive_player_machine_age
					has_origin = origin_primitive_player_atomic_age
					has_origin = origin_primitive_player_early_space_age
				}
			}
			every_country = {
				limit = { 
					has_established_contact = ROOT
					is_country_type = PrimPlayer_ethic_fanatic_nation
				} 
				set_awareness = 100
			}
		}
		set_awareness = 100
		capital_scope = { 
			add_modifier = {
				modifier = culture_shock_diplomacy
				years = 20
			}
		}
	}
	option = {
		name = "progress.6.b"
		trigger = {
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
			NOT = { has_origin = origin_storm_chasers }
		}
		if = {
			limit = {
				OR = {
					has_origin = origin_primitive_player_pre_industrial_age
					has_origin = origin_primitive_player_industrial_age
					has_origin = origin_primitive_player_machine_age
					has_origin = origin_primitive_player_atomic_age
					has_origin = origin_primitive_player_early_space_age
				}
			}
			every_country = {
				limit = { 
					has_established_contact = ROOT
					is_country_type = PrimPlayer_ethic_fanatic_nation
				} 
				set_awareness = 100
			}
		}
		set_awareness = 100
		capital_scope = { 
			add_modifier = {
				modifier = culture_shock_diplomacy
				years = 20
			}
		}
	}
	option = {
		name = "progress.6.c"
		trigger = {
			OR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
			NOT = { has_origin = origin_storm_chasers }
		}
		if = {
			limit = {
				OR = {
					has_origin = origin_primitive_player_pre_industrial_age
					has_origin = origin_primitive_player_industrial_age
					has_origin = origin_primitive_player_machine_age
					has_origin = origin_primitive_player_atomic_age
					has_origin = origin_primitive_player_early_space_age
				}
			}
			every_country = {
				limit = { 
					has_established_contact = ROOT
					is_country_type = PrimPlayer_ethic_fanatic_nation
				} 
				set_awareness = 100
			}
		}
		set_awareness = 100
		capital_scope = { 
			add_modifier = {
				modifier = culture_shock_diplomacy
				years = 20
			}
		}
	}
	option = {
		name = "progress.4.d"
		trigger = {
			is_hive_empire = yes
			NOR = {
				has_devouring_swarm_government = yes
				has_origin = origin_storm_chasers
			}
		}
		if = {
			limit = {
				OR = {
					has_origin = origin_primitive_player_pre_industrial_age
					has_origin = origin_primitive_player_industrial_age
					has_origin = origin_primitive_player_machine_age
					has_origin = origin_primitive_player_atomic_age
					has_origin = origin_primitive_player_early_space_age
				}
			}
			every_country = {
				limit = { 
					has_established_contact = ROOT
					is_country_type = PrimPlayer_ethic_fanatic_nation
				} 
				set_awareness = 100
			}
		}
		set_awareness = 100
		capital_scope = { 
			add_modifier = {
				modifier = culture_shock_diplomacy
				years = 20
			}
		}
	}
	option = {
		name = "progress.4.e"
		trigger = {
			is_machine_empire = yes
			NOR = {
				has_government = "gov_machine_terminator"
				has_origin = origin_storm_chasers
			}
		}
		if = {
			limit = {
				OR = {
					has_origin = origin_primitive_player_pre_industrial_age
					has_origin = origin_primitive_player_industrial_age
					has_origin = origin_primitive_player_machine_age
					has_origin = origin_primitive_player_atomic_age
					has_origin = origin_primitive_player_early_space_age
				}
			}
			every_country = {
				limit = { 
					has_established_contact = ROOT
					is_country_type = PrimPlayer_ethic_fanatic_nation
				} 
				set_awareness = 100
			}
		}
		set_awareness = 100
		capital_scope = { 
			add_modifier = {
				modifier = culture_shock_diplomacy
				years = 20
			}
		}
	}
	option = {
		name = "progress.4.f"
		trigger = {
			has_devouring_swarm_government = yes
		}
		if = {
			limit = {
				OR = {
					has_origin = origin_primitive_player_pre_industrial_age
					has_origin = origin_primitive_player_industrial_age
					has_origin = origin_primitive_player_machine_age
					has_origin = origin_primitive_player_atomic_age
					has_origin = origin_primitive_player_early_space_age
				}
			}
			every_country = {
				limit = { 
					has_established_contact = ROOT
					is_country_type = PrimPlayer_ethic_fanatic_nation
				} 
				set_awareness = 100
			}
		}
		set_awareness = 100
		capital_scope = { 
			add_modifier = {
				modifier = culture_shock_diplomacy
				years = 20
			}
		}
	}
	option = {
		name = "progress.4.g"
		trigger = {
			has_government = "gov_machine_terminator"
		}
		if = {
			limit = {
				OR = {
					has_origin = origin_primitive_player_pre_industrial_age
					has_origin = origin_primitive_player_industrial_age
					has_origin = origin_primitive_player_machine_age
					has_origin = origin_primitive_player_atomic_age
					has_origin = origin_primitive_player_early_space_age
				}
			}
			every_country = {
				limit = { 
					has_established_contact = ROOT
					is_country_type = PrimPlayer_ethic_fanatic_nation
				} 
				set_awareness = 100
			}
		}
		set_awareness = 100
		capital_scope = { 
			add_modifier = {
				modifier = culture_shock_diplomacy
				years = 20
			}
		}
	}
	option = {
		name = progress.6.h.storm
		trigger = { has_origin = origin_storm_chasers }
		if = {
			limit = {
				OR = {
					has_origin = origin_primitive_player_pre_industrial_age
					has_origin = origin_primitive_player_industrial_age
					has_origin = origin_primitive_player_machine_age
					has_origin = origin_primitive_player_atomic_age
					has_origin = origin_primitive_player_early_space_age
				}
			}
			every_country = {
				limit = { 
					has_established_contact = ROOT
					is_country_type = PrimPlayer_ethic_fanatic_nation
				} 
				set_awareness = 100
			}
		}
		set_awareness = 100
		capital_scope = { 
			add_modifier = {
				modifier = culture_shock_diplomacy
				years = 20
			}
		}
	}
}